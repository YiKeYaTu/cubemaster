webpackJsonp([0],{

/***/ 0:
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__(1);


/***/ },

/***/ 1:
/***/ function(module, exports, __webpack_require__) {

	'use strict';

	var _react = __webpack_require__(2);

	var _react2 = _interopRequireDefault(_react);

	var _reactDom = __webpack_require__(154);

	var _redux = __webpack_require__(155);

	var _reactRedux = __webpack_require__(168);

	var _reduxThunk = __webpack_require__(181);

	var _reduxThunk2 = _interopRequireDefault(_reduxThunk);

	var _combination_reducers = __webpack_require__(182);

	var _combination_reducers2 = _interopRequireDefault(_combination_reducers);

	var _combination = __webpack_require__(188);

	var _combination2 = _interopRequireDefault(_combination);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	var store = (0, _redux.createStore)(_combination_reducers2.default, (0, _redux.applyMiddleware)(_reduxThunk2.default));

	(0, _reactDom.render)(_react2.default.createElement(
	    _reactRedux.Provider,
	    { store: store },
	    _react2.default.createElement(_combination2.default, null)
	), document.getElementById('container'));

/***/ },

/***/ 182:
/***/ function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	    value: true
	});

	var _redux = __webpack_require__(155);

	var _header_reducers = __webpack_require__(183);

	var _combination_action = __webpack_require__(185);

	var INIT_POS = '-60px',
	    NEXT_POS = '0px',
	    INIT_HTML = '待插入',
	    NEXT_HTML = '已插入';

	var _INIT_LEFT = '525px';

	function getInitData() {
	    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];
	    var action = arguments[1];

	    switch (action.type) {
	        case _combination_action.ADD_AJAX_DATA:
	            return _getInf(action.json.dataset, '0');
	        default:
	            return state;
	    }
	}

	function getInitAlgorithmItem() {
	    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];
	    var action = arguments[1];

	    switch (action.type) {
	        case _combination_action.ADD_AJAX_DATA:
	            return _getInf(action.json.algorithm, '1');
	        default:
	            return state;
	    }
	}

	function _randomColor() {
	    return Math.floor(Math.random() * 60 + 150);
	}

	//将接受到的item数据转化成对象的形式
	function _getInf(item, type) {
	    var obj = {};
	    item.forEach(function (item, index) {
	        obj[type + index] = {
	            index: index,
	            type: type,
	            itemLeft: type == 1 ? 460 + index % 2 * 120 + 'px' : 100 + index % 2 * 120 + 'px',
	            itemTop: Math.floor(index / 2) * 120 + 'px',
	            value: item.algorithm_name || item.dataset_name, //数据或者算法的名称
	            serverDaTA: item,
	            right: INIT_POS, //数据或者算法左边元素的遮盖层的right
	            background: 'rgb(' + _randomColor() + ', ' + _randomColor() + ', ' + _randomColor() + ')', //元素的颜色
	            itemHasAdd: false, //这个元素是否被插入到canvas上
	            buttonInnerHTML: INIT_HTML };
	    });
	    //遮盖层显示什么
	    return obj;
	}

	var combinationReducers = (0, _redux.combineReducers)({
	    move: (0, _header_reducers.move)(_INIT_LEFT),
	    getInitData: getInitData,
	    getInitAlgorithmItem: getInitAlgorithmItem,
	    INIT_LEFT: function INIT_LEFT() {
	        return _INIT_LEFT;
	    }
	});

	exports.default = combinationReducers;

/***/ },

/***/ 185:
/***/ function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	exports.ADD_AJAX_DATA = exports.ADD_ACTIVE_INDEX = undefined;
	exports.addActiveIndex = addActiveIndex;
	exports.addAjaxData = addAjaxData;
	exports.fetchPosts = fetchPosts;

	var _isomorphicFetch = __webpack_require__(186);

	var _isomorphicFetch2 = _interopRequireDefault(_isomorphicFetch);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	var ADD_ACTIVE_INDEX = exports.ADD_ACTIVE_INDEX = 'ADD_ACTIVE_INDEX';
	var ADD_AJAX_DATA = exports.ADD_AJAX_DATA = 'ADD_AJAX_DATA';

	function addActiveIndex(obj) {
	    return {
	        type: ADD_ACTIVE_INDEX,
	        obj: obj
	    };
	}

	function addAjaxData(json) {
	    return {
	        type: ADD_AJAX_DATA,
	        json: json
	    };
	}

	function fetchPosts() {

	    return function (dispatch) {

	        return (0, _isomorphicFetch2.default)('/cubemaster/servlet/ExecutePageServlet', {
	            credentials: 'include'
	        }).then(function (response) {
	            return response.json();
	        }).then(function (json) {
	            dispatch(addAjaxData(json));
	        });
	    };
	}

/***/ },

/***/ 186:
/***/ function(module, exports, __webpack_require__) {

	// the whatwg-fetch polyfill installs the fetch() function
	// on the global object (window or self)
	//
	// Return that as the export for use in Webpack, Browserify etc.
	__webpack_require__(187);
	module.exports = self.fetch.bind(self);


/***/ },

/***/ 187:
/***/ function(module, exports) {

	(function(self) {
	  'use strict';

	  if (self.fetch) {
	    return
	  }

	  function normalizeName(name) {
	    if (typeof name !== 'string') {
	      name = String(name)
	    }
	    if (/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)) {
	      throw new TypeError('Invalid character in header field name')
	    }
	    return name.toLowerCase()
	  }

	  function normalizeValue(value) {
	    if (typeof value !== 'string') {
	      value = String(value)
	    }
	    return value
	  }

	  function Headers(headers) {
	    this.map = {}

	    if (headers instanceof Headers) {
	      headers.forEach(function(value, name) {
	        this.append(name, value)
	      }, this)

	    } else if (headers) {
	      Object.getOwnPropertyNames(headers).forEach(function(name) {
	        this.append(name, headers[name])
	      }, this)
	    }
	  }

	  Headers.prototype.append = function(name, value) {
	    name = normalizeName(name)
	    value = normalizeValue(value)
	    var list = this.map[name]
	    if (!list) {
	      list = []
	      this.map[name] = list
	    }
	    list.push(value)
	  }

	  Headers.prototype['delete'] = function(name) {
	    delete this.map[normalizeName(name)]
	  }

	  Headers.prototype.get = function(name) {
	    var values = this.map[normalizeName(name)]
	    return values ? values[0] : null
	  }

	  Headers.prototype.getAll = function(name) {
	    return this.map[normalizeName(name)] || []
	  }

	  Headers.prototype.has = function(name) {
	    return this.map.hasOwnProperty(normalizeName(name))
	  }

	  Headers.prototype.set = function(name, value) {
	    this.map[normalizeName(name)] = [normalizeValue(value)]
	  }

	  Headers.prototype.forEach = function(callback, thisArg) {
	    Object.getOwnPropertyNames(this.map).forEach(function(name) {
	      this.map[name].forEach(function(value) {
	        callback.call(thisArg, value, name, this)
	      }, this)
	    }, this)
	  }

	  function consumed(body) {
	    if (body.bodyUsed) {
	      return Promise.reject(new TypeError('Already read'))
	    }
	    body.bodyUsed = true
	  }

	  function fileReaderReady(reader) {
	    return new Promise(function(resolve, reject) {
	      reader.onload = function() {
	        resolve(reader.result)
	      }
	      reader.onerror = function() {
	        reject(reader.error)
	      }
	    })
	  }

	  function readBlobAsArrayBuffer(blob) {
	    var reader = new FileReader()
	    reader.readAsArrayBuffer(blob)
	    return fileReaderReady(reader)
	  }

	  function readBlobAsText(blob) {
	    var reader = new FileReader()
	    reader.readAsText(blob)
	    return fileReaderReady(reader)
	  }

	  var support = {
	    blob: 'FileReader' in self && 'Blob' in self && (function() {
	      try {
	        new Blob()
	        return true
	      } catch(e) {
	        return false
	      }
	    })(),
	    formData: 'FormData' in self,
	    arrayBuffer: 'ArrayBuffer' in self
	  }

	  function Body() {
	    this.bodyUsed = false


	    this._initBody = function(body) {
	      this._bodyInit = body
	      if (typeof body === 'string') {
	        this._bodyText = body
	      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
	        this._bodyBlob = body
	      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
	        this._bodyFormData = body
	      } else if (!body) {
	        this._bodyText = ''
	      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {
	        // Only support ArrayBuffers for POST method.
	        // Receiving ArrayBuffers happens via Blobs, instead.
	      } else {
	        throw new Error('unsupported BodyInit type')
	      }

	      if (!this.headers.get('content-type')) {
	        if (typeof body === 'string') {
	          this.headers.set('content-type', 'text/plain;charset=UTF-8')
	        } else if (this._bodyBlob && this._bodyBlob.type) {
	          this.headers.set('content-type', this._bodyBlob.type)
	        }
	      }
	    }

	    if (support.blob) {
	      this.blob = function() {
	        var rejected = consumed(this)
	        if (rejected) {
	          return rejected
	        }

	        if (this._bodyBlob) {
	          return Promise.resolve(this._bodyBlob)
	        } else if (this._bodyFormData) {
	          throw new Error('could not read FormData body as blob')
	        } else {
	          return Promise.resolve(new Blob([this._bodyText]))
	        }
	      }

	      this.arrayBuffer = function() {
	        return this.blob().then(readBlobAsArrayBuffer)
	      }

	      this.text = function() {
	        var rejected = consumed(this)
	        if (rejected) {
	          return rejected
	        }

	        if (this._bodyBlob) {
	          return readBlobAsText(this._bodyBlob)
	        } else if (this._bodyFormData) {
	          throw new Error('could not read FormData body as text')
	        } else {
	          return Promise.resolve(this._bodyText)
	        }
	      }
	    } else {
	      this.text = function() {
	        var rejected = consumed(this)
	        return rejected ? rejected : Promise.resolve(this._bodyText)
	      }
	    }

	    if (support.formData) {
	      this.formData = function() {
	        return this.text().then(decode)
	      }
	    }

	    this.json = function() {
	      return this.text().then(JSON.parse)
	    }

	    return this
	  }

	  // HTTP methods whose capitalization should be normalized
	  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']

	  function normalizeMethod(method) {
	    var upcased = method.toUpperCase()
	    return (methods.indexOf(upcased) > -1) ? upcased : method
	  }

	  function Request(input, options) {
	    options = options || {}
	    var body = options.body
	    if (Request.prototype.isPrototypeOf(input)) {
	      if (input.bodyUsed) {
	        throw new TypeError('Already read')
	      }
	      this.url = input.url
	      this.credentials = input.credentials
	      if (!options.headers) {
	        this.headers = new Headers(input.headers)
	      }
	      this.method = input.method
	      this.mode = input.mode
	      if (!body) {
	        body = input._bodyInit
	        input.bodyUsed = true
	      }
	    } else {
	      this.url = input
	    }

	    this.credentials = options.credentials || this.credentials || 'omit'
	    if (options.headers || !this.headers) {
	      this.headers = new Headers(options.headers)
	    }
	    this.method = normalizeMethod(options.method || this.method || 'GET')
	    this.mode = options.mode || this.mode || null
	    this.referrer = null

	    if ((this.method === 'GET' || this.method === 'HEAD') && body) {
	      throw new TypeError('Body not allowed for GET or HEAD requests')
	    }
	    this._initBody(body)
	  }

	  Request.prototype.clone = function() {
	    return new Request(this)
	  }

	  function decode(body) {
	    var form = new FormData()
	    body.trim().split('&').forEach(function(bytes) {
	      if (bytes) {
	        var split = bytes.split('=')
	        var name = split.shift().replace(/\+/g, ' ')
	        var value = split.join('=').replace(/\+/g, ' ')
	        form.append(decodeURIComponent(name), decodeURIComponent(value))
	      }
	    })
	    return form
	  }

	  function headers(xhr) {
	    var head = new Headers()
	    var pairs = (xhr.getAllResponseHeaders() || '').trim().split('\n')
	    pairs.forEach(function(header) {
	      var split = header.trim().split(':')
	      var key = split.shift().trim()
	      var value = split.join(':').trim()
	      head.append(key, value)
	    })
	    return head
	  }

	  Body.call(Request.prototype)

	  function Response(bodyInit, options) {
	    if (!options) {
	      options = {}
	    }

	    this.type = 'default'
	    this.status = options.status
	    this.ok = this.status >= 200 && this.status < 300
	    this.statusText = options.statusText
	    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)
	    this.url = options.url || ''
	    this._initBody(bodyInit)
	  }

	  Body.call(Response.prototype)

	  Response.prototype.clone = function() {
	    return new Response(this._bodyInit, {
	      status: this.status,
	      statusText: this.statusText,
	      headers: new Headers(this.headers),
	      url: this.url
	    })
	  }

	  Response.error = function() {
	    var response = new Response(null, {status: 0, statusText: ''})
	    response.type = 'error'
	    return response
	  }

	  var redirectStatuses = [301, 302, 303, 307, 308]

	  Response.redirect = function(url, status) {
	    if (redirectStatuses.indexOf(status) === -1) {
	      throw new RangeError('Invalid status code')
	    }

	    return new Response(null, {status: status, headers: {location: url}})
	  }

	  self.Headers = Headers
	  self.Request = Request
	  self.Response = Response

	  self.fetch = function(input, init) {
	    return new Promise(function(resolve, reject) {
	      var request
	      if (Request.prototype.isPrototypeOf(input) && !init) {
	        request = input
	      } else {
	        request = new Request(input, init)
	      }

	      var xhr = new XMLHttpRequest()

	      function responseURL() {
	        if ('responseURL' in xhr) {
	          return xhr.responseURL
	        }

	        // Avoid security warnings on getResponseHeader when not allowed by CORS
	        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {
	          return xhr.getResponseHeader('X-Request-URL')
	        }

	        return
	      }

	      xhr.onload = function() {
	        var status = (xhr.status === 1223) ? 204 : xhr.status
	        if (status < 100 || status > 599) {
	          reject(new TypeError('Network request failed'))
	          return
	        }
	        var options = {
	          status: status,
	          statusText: xhr.statusText,
	          headers: headers(xhr),
	          url: responseURL()
	        }
	        var body = 'response' in xhr ? xhr.response : xhr.responseText
	        resolve(new Response(body, options))
	      }

	      xhr.onerror = function() {
	        reject(new TypeError('Network request failed'))
	      }

	      xhr.ontimeout = function() {
	        reject(new TypeError('Network request failed'))
	      }

	      xhr.open(request.method, request.url, true)

	      if (request.credentials === 'include') {
	        xhr.withCredentials = true
	      }

	      if ('responseType' in xhr && support.blob) {
	        xhr.responseType = 'blob'
	      }

	      request.headers.forEach(function(value, name) {
	        xhr.setRequestHeader(name, value)
	      })

	      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)
	    })
	  }
	  self.fetch.polyfill = true
	})(typeof self !== 'undefined' ? self : this);


/***/ },

/***/ 188:
/***/ function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	    value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _react = __webpack_require__(2);

	var _react2 = _interopRequireDefault(_react);

	var _reactRedux = __webpack_require__(168);

	var _content = __webpack_require__(189);

	var _content2 = _interopRequireDefault(_content);

	var _Content = __webpack_require__(193);

	var _Content2 = _interopRequireDefault(_Content);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

	var App = function (_Component) {
	    _inherits(App, _Component);

	    function App() {
	        _classCallCheck(this, App);

	        return _possibleConstructorReturn(this, Object.getPrototypeOf(App).apply(this, arguments));
	    }

	    _createClass(App, [{
	        key: 'render',
	        value: function render() {
	            return _react2.default.createElement(
	                'section',
	                {
	                    style: {
	                        width: '100%'
	                    }
	                },
	                _react2.default.createElement(_content2.default, this.props),
	                _react2.default.createElement(_Content2.default, this.props)
	            );
	        }
	    }]);

	    return App;
	}(_react.Component);

	exports.default = (0, _reactRedux.connect)(function (state) {
	    return {
	        move: state.move,
	        initData: state.getInitData,
	        initAlgorithmItem: state.getInitAlgorithmItem,
	        INIT_LEFT: state.INIT_LEFT
	    };
	})(App);

/***/ },

/***/ 193:
/***/ function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	    value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

	var _react = __webpack_require__(2);

	var _react2 = _interopRequireDefault(_react);

	var _data_item = __webpack_require__(194);

	var _data_item2 = _interopRequireDefault(_data_item);

	var _combination = __webpack_require__(195);

	var _combination2 = _interopRequireDefault(_combination);

	var _combination_action = __webpack_require__(185);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

	function getFreeContentHeight() {
	    return window.innerHeight - 60;
	}

	function objToArr(obj) {
	    var dataInf = [];
	    for (var key in obj) {
	        if (obj.hasOwnProperty(key)) {
	            dataInf.push(obj[key]);
	        }
	    }
	    return dataInf;
	}

	var Content = _react2.default.createClass({
	    displayName: 'Content',

	    //初始化 数据元素   算法元素的stateINIT_POS = '-60px',
	    nextPos: '0px',
	    initPos: '-60px',
	    initInnerHTML: '待插入',
	    nextInnerHTML: '已插入',
	    getInitialState: function getInitialState() {
	        return {
	            dataInf: this.props.initData,
	            algorithmInf: this.props.initAlgorithmItem,
	            activeIndex: [], // 正在执行连接元素
	            parentIndex: null, //正在执行连接元素的父节点
	            childIndex: null,
	            activeEl: null, //正在被拖动的dom元素
	            connectIndex: [] };
	    },
	    // 已经连接的元素  通过树进行连接 通过接口判断是否可以连接
	    componentDidMount: function componentDidMount() {
	        var _this = this;

	        this.props.dispatch((0, _combination_action.fetchPosts)()).then(function () {
	            _this.setState({
	                dataInf: _this.props.initData,
	                algorithmInf: _this.props.initAlgorithmItem
	            });
	        });
	    },

	    //给连接点添加事件  点击后将该元素纳入state里面的activeIndex里面
	    //如果activeIndex的length === 2那么就执行连接判断

	    //将connectIndex进行更新
	    updateConnectIndex: function updateConnectIndex(activeIndex) {
	        var root = this.state.connectIndex,
	            parent = this.state.parentIndex,
	            child = this.state.childIndex;

	        var createStateConnectNode = this.createStateConnectNode,
	            clearRootChild = this.clearRootChild,
	            judInterface = this.judInterface;

	        if (!judInterface(parent, child)) {
	            this.cannotConnect('端口被占用');
	        } else {
	            if (parent && child) {
	                clearRootChild();
	                parent.child.push(child);
	                parent.data.connectInterface.outInterface = false;
	                child.data.connectInterface.inInterface = false;
	            } else if (parent && !child) {
	                parent.child.push(createStateConnectNode(activeIndex[1]));
	                parent.data.connectInterface.outInterface = false;
	            } else if (!parent && child) {
	                child.data.connectInterface.inInterface = false;
	                var temp = createStateConnectNode(activeIndex[0]);
	                temp.child.push(child);
	                clearRootChild();
	                root = this.state.connectIndex;
	                root.push(temp);
	            } else {
	                var _temp = createStateConnectNode(activeIndex[0]);
	                _temp.child.push(createStateConnectNode(activeIndex[1]));
	                root.push(_temp);
	            }
	        }
	        this.setState({
	            parentIndex: null,
	            childIndex: null,
	            activeIndex: [],
	            connectIndex: this.state.connectIndex
	        }, function () {
	            // console.log(this.state.connectIndex)
	        });
	    },

	    //删除root节点中的将要被插入其他子节点的节点
	    clearRootChild: function clearRootChild() {
	        var child = this.state.childIndex;

	        this.state.connectIndex = this.state.connectIndex.filter(function (item, index) {
	            if (item.data.type != child.data.type || item.data.index != child.data.index) {
	                return item;
	            }
	        });
	    },

	    //点击时判断这个节点端口是否已经被占用
	    judClickInterface: function judClickInterface(typeId, indexId, buttonType) {
	        var id = typeId + indexId;
	        var data = void 0;
	        if (typeId == 0) {
	            data = this.state.dataInf;
	        } else if (typeId == 1) {
	            data = this.state.algorithmInf;
	        }
	        if (buttonType == 0) {
	            return !data[id].connectInterface || data[id].connectInterface.inInterface;
	        } else if (buttonType == 1) {
	            return !data[id].connectInterface || data[id].connectInterface.outInterface;
	        }
	    },
	    judInterface: function judInterface(parent, child) {
	        if (parent && child) {
	            return parent.data.connectInterface.outInterface && child.data.connectInterface.inInterface;
	        } else if (parent && !child) {
	            return parent.data.connectInterface.outInterface;
	        } else if (!parent && child) {
	            return child.data.connectInterface.inInterface;
	        } else {
	            return true;
	        }
	    },

	    // 创建节点 放入树中
	    createStateConnectNode: function createStateConnectNode(inf) {
	        var data = void 0;
	        var type = inf.type,
	            buttonType = inf.buttonType;
	        if (type == 0) {
	            data = this.state.dataInf[inf.type + inf.index];
	        } else if (type == 1) {
	            data = this.state.algorithmInf[inf.type + inf.index];
	        }
	        data.connectInterface = {
	            inInterface: buttonType === 1 ? true : false,
	            outInterface: buttonType === 1 ? false : true
	        };
	        data.pos = inf.pos;
	        return {
	            data: data,
	            child: []
	        };
	    },
	    cannotConnect: function cannotConnect(error) {
	        console.error(error);
	    },


	    //遍历整个树
	    walkTree: function walkTree(node, callback) {
	        var i = 0;
	        callback(node);
	        node = node.child;
	        while (node[i]) {
	            node && this.walkTree(node[i++], callback);
	        }
	    },

	    //找出对应type的state
	    getData: function getData(type) {
	        return type == 0 ? this.state.dataInf : this.state.algorithmInf;
	    },

	    //设定对应type的state
	    chooseDataToset: function chooseDataToset(typeId, data, callback) {
	        if (typeId == 0) {
	            this.setState({
	                dataInf: data
	            }, callback);
	        } else if (typeId == 1) {
	            this.setState({
	                algorithmInf: data
	            }, callback);
	        }
	    },

	    //判断两点是否可以连接  并且拿出父节点
	    handleConnectButtonJudConnect: function handleConnectButtonJudConnect(activeIndex) {
	        var _this2 = this;

	        var connectIndex = this.state.connectIndex;
	        var flag = 200;
	        var parent = void 0;
	        if (activeIndex[0].buttonType === activeIndex[1].buttonType) {
	            //是不是不同的接口 左  右
	            flag = 400;
	            return flag;
	        }
	        connectIndex.forEach(function (item, index) {
	            if (item) {
	                _this2.walkTree(item, function (node) {
	                    if (node.data.type == activeIndex[0].type && node.data.index == activeIndex[0].index) {
	                        _this2.state.parentIndex = node;
	                    } else if (node.data.type == activeIndex[1].type && node.data.index == activeIndex[1].index) {
	                        _this2.state.childIndex = node;
	                    }
	                });
	            }
	        });
	        return flag;
	    },

	    //连接端口
	    handleConnectButtonClick: function handleConnectButtonClick(typeId, indexId, buttonType, pos) {
	        var activeIndex = this.state.activeIndex.slice();
	        var status = void 0;

	        if (!this.judClickInterface(typeId, indexId, buttonType)) {
	            return this.cannotConnect('端口被占用');
	        }

	        activeIndex.push({
	            type: typeId,
	            index: indexId,
	            buttonType: buttonType,
	            pos: pos
	        });
	        if (activeIndex.length === 2) {
	            //交换button位置
	            if (activeIndex[0].buttonType == 0) {
	                var temp = activeIndex[0];
	                activeIndex[0] = activeIndex[1];
	                activeIndex[1] = temp;
	            }

	            if ((status = this.handleConnectButtonJudConnect(activeIndex)) !== 200) {
	                this.cannotConnect(status);
	            } else {
	                this.updateConnectIndex(activeIndex);
	            }
	        } else if (activeIndex.length === 1) {
	            this.setState({
	                activeIndex: activeIndex
	            });
	        }
	    },

	    //封装数据 算法元素的鼠标事件
	    handleOverAndOut: function handleOverAndOut(typeId, indexId, type) {
	        var data = this.getData(typeId);
	        var id = typeId + indexId;
	        if (data[id].itemHasAdd) return;
	        data[id].right = type === 0 ? this.nextPos : this.initPos;
	        this.chooseDataToset(typeId, data);
	    },

	    //封装数据 算法元素的鼠标事件
	    handleMouseOver: function handleMouseOver(type, index) {
	        this.handleOverAndOut(type, index, 0);
	    },

	    //封装数据 算法元素的鼠标事件
	    handleMouseOut: function handleMouseOut(type, index) {
	        this.handleOverAndOut(type, index, 1);
	    },

	    //封装数据 算法元素的鼠标事件
	    //点击元素后 将该元素加入到组合池里
	    handleClick: function handleClick(typeId, indexId, buttonType) {
	        var data = this.getData(typeId);
	        var id = typeId + indexId;
	        if (data[id].itemHasAdd) return;
	        data[id].right = this.nextPos;
	        data[id].itemHasAdd = true;
	        data[id].buttonInnerHTML = this.nextInnerHTML;
	        this.chooseDataToset(typeId, data);
	    },

	    //插入元素的删除按钮点击后删除该元素
	    handleRemoveButtonClick: function handleRemoveButtonClick(typeId, indexId) {
	        var data = this.getData(typeId);
	        var id = typeId + indexId;
	        data[id].right = this.initPos;
	        data[id].itemHasAdd = false;
	        data[id].buttonInnerHTML = this.initInnerHTML;
	        this.chooseDataToset(typeId, data);
	        this.removeConnectIndex(typeId, indexId);
	    },

	    //点击元素后 执行拖动的准备工作
	    handleItemMouseDown: function handleItemMouseDown(typeId, indexId, downPos) {
	        var data = this.getData(typeId);
	        this.setState({
	            activeEl: {
	                downPos: downPos,
	                data: data[typeId + indexId]
	            }
	        });
	    },

	    //放开元素后 将activeEl设置为null
	    handleItemMouseUp: function handleItemMouseUp(typeId, indexId) {
	        this.setState({
	            activeEl: null
	        });
	    },
	    handleItemOuterClearClick: function handleItemOuterClearClick() {
	        this.setState({
	            activeIndex: []
	        });
	    },

	    //元素拖动逻辑
	    handleItemMouseMove: function handleItemMouseMove(x, y) {
	        if (this.state.activeEl) {
	            this.state.activeEl.data.itemLeft = x + 'px';
	            this.state.activeEl.data.itemTop = y + 'px';
	            this.state.activeEl.data.pos = {
	                x: x,
	                y: y
	            };
	            this.setState({
	                connectIndex: this.state.connectIndex,
	                dataInf: this.state.dataInf,
	                algorithmInf: this.state.algorithmInf
	            });
	        }
	    },

	    //点击删除按钮之后删除链接
	    removeConnectIndex: function removeConnectIndex(typeId, indexId) {
	        var _this3 = this;

	        var connectIndex = this.state.connectIndex;
	        var parent = void 0,
	            child = void 0,
	            i = void 0,
	            iIndex = void 0;

	        connectIndex.forEach(function (item, index) {
	            if (item.data.type == typeId && item.data.index == indexId) {
	                i = item;
	                iIndex = index;
	                child = item.child[0];
	            } else {
	                _this3.walkTree(item, function (node) {
	                    var temp = node.child[0];
	                    if (temp && temp.data.type == typeId && temp.data.index == indexId) {
	                        parent = node;
	                        i = temp;
	                        child = temp.child[0];
	                    }
	                });
	            }
	        });
	        if (i) {
	            i.data.connectInterface = {
	                inInterface: true,
	                outInterface: true
	            };
	            i.child.pop();
	        }
	        if (child) {
	            child.data.connectInterface.inInterface = true;
	        }
	        if (!parent) {
	            if (i) {
	                connectIndex.splice(iIndex, 1);
	            }
	        } else {
	            parent.data.connectInterface.outInterface = true;
	            parent.child.pop();
	            this.state.connectIndex = connectIndex.filter(function (item, index) {
	                if (item.data.type != parent.data.type || item.data.index != parent.data.index) {
	                    return item;
	                }
	            });
	        }
	        if (child && child.child) {
	            this.state.connectIndex.push(child);
	        }
	    },
	    render: function render() {
	        var dataInf = objToArr(this.state.dataInf),
	            algorithmInf = objToArr(this.state.algorithmInf);
	        return _react2.default.createElement(ContentComponent, _extends({
	            handleConnectButtonClick: this.handleConnectButtonClick,
	            handleRemoveButtonClick: this.handleRemoveButtonClick,
	            handleMouseOver: this.handleMouseOver,
	            handleMouseOut: this.handleMouseOut,
	            handleClick: this.handleClick,
	            handleItemMouseDown: this.handleItemMouseDown,
	            handleItemMouseUp: this.handleItemMouseUp,
	            handleItemMouseMove: this.handleItemMouseMove,
	            handleItemOuterClearClick: this.handleItemOuterClearClick
	        }, this.state, {
	            dataInf: dataInf,
	            algorithmInf: algorithmInf
	        }));
	    }
	});

	var ContentComponent = function (_Component) {
	    _inherits(ContentComponent, _Component);

	    function ContentComponent() {
	        _classCallCheck(this, ContentComponent);

	        return _possibleConstructorReturn(this, Object.getPrototypeOf(ContentComponent).apply(this, arguments));
	    }

	    _createClass(ContentComponent, [{
	        key: 'componentDidMount',
	        value: function componentDidMount() {
	            this.rebuild();
	            window.onresize = function () {
	                this.rebuild();
	            }.bind(this);
	        }
	    }, {
	        key: 'rebuild',
	        value: function rebuild() {
	            var container = this.refs.container;
	            var containerHeight = parseFloat(getComputedStyle(container)['height']);
	            function rebuildMargin() {
	                var freeHeight = getFreeContentHeight();
	                if (containerHeight < freeHeight) {
	                    container.style.marginTop = (freeHeight - containerHeight) / 2 + 'px';
	                }
	            }
	            rebuildMargin();
	        }
	    }, {
	        key: 'render',
	        value: function render() {
	            var dataInf = objToArr(this.props.dataInf),
	                algorithmInf = objToArr(this.props.algorithmInf);
	            return _react2.default.createElement(
	                'section',
	                {
	                    ref: 'container',
	                    style: {
	                        width: '1160px',
	                        margin: '0 auto',
	                        overflow: 'hidden'
	                    }
	                },
	                _react2.default.createElement(
	                    'section',
	                    {
	                        style: {
	                            width: '300px',
	                            float: 'left'
	                        }
	                    },
	                    _react2.default.createElement(Container, _extends({}, this.props, {
	                        dataInf: dataInf,
	                        val: '选择数据',
	                        type: '0'
	                    })),
	                    _react2.default.createElement(Container, _extends({}, this.props, {
	                        dataInf: algorithmInf,
	                        val: '选择算法',
	                        type: '1'
	                    }))
	                ),
	                _react2.default.createElement(
	                    'section',
	                    {
	                        style: {
	                            width: '800px',
	                            float: 'right'
	                        }
	                    },
	                    _react2.default.createElement(_combination2.default, _extends({}, this.props, {
	                        dataInf: dataInf,
	                        algorithmInf: algorithmInf
	                    }))
	                )
	            );
	        }
	    }]);

	    return ContentComponent;
	}(_react.Component);

	var Container = function (_Component2) {
	    _inherits(Container, _Component2);

	    function Container() {
	        _classCallCheck(this, Container);

	        return _possibleConstructorReturn(this, Object.getPrototypeOf(Container).apply(this, arguments));
	    }

	    _createClass(Container, [{
	        key: 'componentDidMount',
	        value: function componentDidMount() {
	            this.rebuildMargin();
	        }
	    }, {
	        key: 'rebuildMargin',
	        value: function rebuildMargin() {
	            var itemContent = this.refs.itemContent;
	            var itemContentHeight = parseFloat(getComputedStyle(itemContent)['height']);
	            var CONTAINER_HEIGHT = 130;

	            if (itemContentHeight < CONTAINER_HEIGHT) {
	                itemContent.style.marginTop = (CONTAINER_HEIGHT - itemContentHeight) / 2 + 'px';
	            }
	        }
	    }, {
	        key: 'render',
	        value: function render() {
	            var _this6 = this;

	            var dataInf = objToArr(this.props.dataInf),
	                algorithmInf = objToArr(this.props.algorithmInf);
	            return _react2.default.createElement(
	                'section',
	                {
	                    style: {
	                        width: '280px',
	                        height: '280px',
	                        background: '#f5f5f5',
	                        borderRadius: '100%',
	                        marginTop: '20px',
	                        overflow: 'hidden',
	                        border: '10px solid #f5f5f5'
	                    }
	                },
	                _react2.default.createElement(
	                    'div',
	                    {
	                        style: {
	                            background: 'rgb(84, 182, 231)',
	                            width: '100%',
	                            height: '60px',
	                            textAlign: 'center',
	                            lineHeight: '60px',
	                            color: '#f5f5f5',
	                            fontSize: '20px'
	                        }
	                    },
	                    this.props.val
	                ),
	                _react2.default.createElement(
	                    'div',
	                    {
	                        ref: 'itemContent',
	                        style: {
	                            width: '232px',
	                            maxHeight: '150px',
	                            overflowY: 'scroll',
	                            margin: '10px auto',
	                            paddingTop: '10px'
	                        }
	                    },
	                    dataInf.map(function (item, index) {
	                        return _react2.default.createElement(_data_item2.default, _extends({
	                            index: index,
	                            key: index
	                        }, item, _this6.props));
	                    })
	                )
	            );
	        }
	    }]);

	    return Container;
	}(_react.Component);

	exports.default = Content;

/***/ },

/***/ 194:
/***/ function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	    value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

	var _react = __webpack_require__(2);

	var _react2 = _interopRequireDefault(_react);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

	var DataItem = _react2.default.createClass({
	    displayName: 'DataItem',
	    handleMouseOver: function handleMouseOver() {
	        this.props.handleMouseOver(this.props.type, this.props.index);
	    },
	    handleMouseOut: function handleMouseOut() {
	        this.props.handleMouseOut(this.props.type, this.props.index);
	    },
	    handleClick: function handleClick() {
	        this.props.handleClick(this.props.type, this.props.index);
	    },
	    render: function render() {
	        return _react2.default.createElement(DataItemComponent, _extends({}, this.props, {
	            background: this.props.background,
	            handleClick: this.handleClick,
	            handleMouseOut: this.handleMouseOut,
	            handleMouseOver: this.handleMouseOver
	        }));
	    }
	});

	var DataItemComponent = function (_Component) {
	    _inherits(DataItemComponent, _Component);

	    function DataItemComponent() {
	        _classCallCheck(this, DataItemComponent);

	        return _possibleConstructorReturn(this, Object.getPrototypeOf(DataItemComponent).apply(this, arguments));
	    }

	    _createClass(DataItemComponent, [{
	        key: 'render',
	        value: function render() {
	            var index = this.props.index,
	                dataInf = this.props.dataInf;
	            return _react2.default.createElement(
	                'div',
	                {
	                    onMouseOver: this.props.handleMouseOver,
	                    onMouseOut: this.props.handleMouseOut,
	                    onClick: this.props.handleClick,
	                    style: {
	                        opacity: this.props.itemOpacity,
	                        width: '100px',
	                        height: '30px',
	                        float: 'left',
	                        marginLeft: this.props.index % 2 === 0 ? '0px' : '16px',
	                        marginBottom: '10px',
	                        background: dataInf[index].background,
	                        color: '#fff',
	                        position: 'relative',
	                        textAlign: 'center',
	                        lineHeight: '30px',
	                        cursor: 'pointer',
	                        transition: 'all .4s',
	                        overflow: 'hidden',
	                        borderRadius: this.props.type == '0' ? '20px' : '2px'
	                    }
	                },
	                this.props.value,
	                _react2.default.createElement(
	                    'span',
	                    {
	                        ref: 'addInf',
	                        style: {
	                            display: 'block',
	                            width: '60px',
	                            height: '30px',
	                            background: 'rgba(0, 0, 0, 0.3)',
	                            position: 'absolute',
	                            right: dataInf[index].right,
	                            top: '0px',
	                            transition: 'all .4s',
	                            color: 'rgb(84, 182, 231)'
	                        }
	                    },
	                    dataInf[index].buttonInnerHTML
	                )
	            );
	        }
	    }]);

	    return DataItemComponent;
	}(_react.Component);

	exports.default = DataItem;

/***/ },

/***/ 195:
/***/ function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	    value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

	var _react = __webpack_require__(2);

	var _react2 = _interopRequireDefault(_react);

	var _delete = __webpack_require__(196);

	var _delete2 = _interopRequireDefault(_delete);

	var _more = __webpack_require__(197);

	var _more2 = _interopRequireDefault(_more);

	var _connect_canvas = __webpack_require__(198);

	var _connect_canvas2 = _interopRequireDefault(_connect_canvas);

	var _draw = __webpack_require__(199);

	var _draw2 = _interopRequireDefault(_draw);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

	var getOffset = function getOffset(context) {
	    var left = void 0,
	        top = void 0;

	    left = top = 0;

	    while (context) {
	        left += context.offsetLeft;
	        top += context.offsetTop;
	        context = context.offsetParent;
	    }

	    return {
	        x: left,
	        y: top
	    };
	};

	var Combination = _react2.default.createClass({
	    displayName: 'Combination',

	    canvasWidth: 780 * window.devicePixelRatio,
	    canvasHeight: 780 * window.devicePixelRatio,
	    disTop: 52,
	    disLeft: 98,
	    outerPadding: 10,
	    drawContext: null,
	    itemMouseMove: function itemMouseMove(ev) {

	        var ACTIVE_EL = this.props.activeEl;

	        var offset = getOffset(this.refs.component.refs.content);

	        if (ACTIVE_EL) {

	            this.props.handleItemMouseMove(ev.pageX - offset.x - ACTIVE_EL.downPos.x, ev.pageY - offset.y - ACTIVE_EL.downPos.y);
	        }
	    },
	    getContext: function getContext() {
	        return this.refs.component.refs.canvas.refs.canvasContent.refs.context.getContext('2d');
	    },
	    getCanvas: function getCanvas() {
	        return this.refs.component.refs.canvas.refs.canvasContent.refs.context;
	    },
	    componentDidMount: function componentDidMount() {
	        this.drawContext = new _draw2.default(this.getContext(), {
	            lineWidth: 2,
	            lineJoin: 'round',
	            strokeStyle: '#333',
	            disTop: this.disTop,
	            disLeft: this.disLeft,
	            content: this.getCanvas(),
	            scale: window.devicePixelRatio
	        });
	    },
	    componentWillUpdate: function componentWillUpdate(nextProps, nextState) {
	        var activeIndex = nextProps.activeIndex;
	        this.drawSaveContext(nextProps.connectIndex);
	    },
	    drawSaveContext: function drawSaveContext(connectIndex) {
	        this.drawContext.reDraw(connectIndex);
	    },
	    drawLineMouseMove: function drawLineMouseMove(ev, id) {
	        var activeIndex = this.props.activeIndex;

	        if (activeIndex.length == 0) return;

	        var pos = getOffset(this.getCanvas());

	        this.drawSaveContext(this.props.connectIndex);
	        this.drawContext.beginPath();
	        this.drawContext.lineTo(activeIndex[0].pos.x + (activeIndex[0].buttonType === 1 ? this.disLeft : 0), activeIndex[0].pos.y + this.disTop, ev.pageX - pos.x, ev.pageY - pos.y, activeIndex[0].buttonType);
	    },
	    drawDeleteLineMouseMove: function drawDeleteLineMouseMove(ev) {

	        var pos = getOffset(this.getCanvas());
	        this.drawContext.changeColor(ev.pageX - pos.x, ev.pageY - pos.y);
	    },
	    handleMouseMove: function handleMouseMove(ev, id) {
	        this.itemMouseMove(ev);
	        this.drawLineMouseMove(ev, id);
	        this.drawDeleteLineMouseMove(ev);
	    },
	    render: function render() {
	        return _react2.default.createElement(CombinationComponent, _extends({
	            ref: 'component'
	        }, this.props, {
	            canvasWidth: this.canvasWidth,
	            canvasHeight: this.canvasHeight,
	            handleMouseMove: this.handleMouseMove,
	            outerPadding: this.outerPadding
	        }));
	    }
	});

	var CombinationComponent = function (_Component) {
	    _inherits(CombinationComponent, _Component);

	    function CombinationComponent() {
	        _classCallCheck(this, CombinationComponent);

	        return _possibleConstructorReturn(this, Object.getPrototypeOf(CombinationComponent).apply(this, arguments));
	    }

	    _createClass(CombinationComponent, [{
	        key: 'render',
	        value: function render() {
	            var _this2 = this;

	            return _react2.default.createElement(
	                'section',
	                {
	                    ref: 'content',
	                    onMouseMove: this.props.handleMouseMove,
	                    onMouseUp: this.props.handleItemMouseUp,
	                    onClick: this.props.handleItemOuterClearClick,
	                    style: {
	                        width: '780px',
	                        height: '600px',
	                        border: '10px solid #f5f5f5',
	                        background: '#f5f5f5',
	                        borderRadius: '40px',
	                        marginTop: '20px',
	                        position: 'relative'
	                    }
	                },
	                _react2.default.createElement(
	                    'div',
	                    {
	                        style: {
	                            height: '50px',
	                            lineHeight: '50px',
	                            width: '100px',
	                            color: '#f5f5f5',
	                            fontSize: '20px',
	                            background: 'rgb(84, 182, 231)',
	                            textAlign: 'center',
	                            position: 'absolute',
	                            top: '-17px',
	                            left: '-42px',
	                            zIndex: '1',
	                            fontWeight: 'bold',
	                            transform: 'rotate(-45deg)'
	                        }
	                    },
	                    '组合'
	                ),
	                _react2.default.createElement(
	                    'section',
	                    {
	                        style: {
	                            width: '100%',
	                            position: 'relative',
	                            height: '100%'
	                        }
	                    },
	                    _react2.default.createElement(_connect_canvas2.default, _extends({
	                        ref: 'canvas'
	                    }, this.props)),
	                    this.props.dataInf.map(function (item, index) {
	                        return _react2.default.createElement(CombinationElement, _extends({
	                            key: index
	                        }, item, _this2.props));
	                    }),
	                    this.props.algorithmInf.map(function (item, index) {
	                        return _react2.default.createElement(CombinationElement, _extends({
	                            key: index
	                        }, item, _this2.props));
	                    })
	                )
	            );
	        }
	    }]);

	    return CombinationComponent;
	}(_react.Component);

	var CombinationElement = _react2.default.createClass({
	    displayName: 'CombinationElement',
	    handleClick: function handleClick(e) {
	        e.stopPropagation();
	        this.props.handleRemoveButtonClick(this.props.type, this.props.index);
	    },
	    handleMouseDown: function handleMouseDown(e) {
	        var offset = getOffset(e.currentTarget);

	        this.props.handleItemMouseDown(this.props.type, this.props.index, {
	            x: e.pageX - offset.x,
	            y: e.pageY - offset.y
	        });
	    },
	    handleConnectClick: function handleConnectClick(e) {
	        e.stopPropagation();
	        var buttonOuter = this.refs.CombinationElementComponent.refs.buttonOuter;
	        return {
	            x: parseFloat(buttonOuter.style.left),
	            y: parseFloat(buttonOuter.style.top)
	        };
	    },
	    render: function render() {
	        return _react2.default.createElement(CombinationElementComponent, _extends({
	            ref: 'CombinationElementComponent'
	        }, this.props, {
	            handleRemoveButtonClick: this.handleClick,
	            handleConnectClick: this.handleConnectClick,
	            handleMouseDown: this.handleMouseDown,
	            handleStopPropagation: this.handleStopPropagation
	        }));
	    }
	});

	var CombinationElementComponent = function (_Component2) {
	    _inherits(CombinationElementComponent, _Component2);

	    function CombinationElementComponent() {
	        _classCallCheck(this, CombinationElementComponent);

	        return _possibleConstructorReturn(this, Object.getPrototypeOf(CombinationElementComponent).apply(this, arguments));
	    }

	    _createClass(CombinationElementComponent, [{
	        key: 'render',
	        value: function render() {
	            var index = this.props.index,
	                type = this.props.type;
	            return _react2.default.createElement(
	                'div',
	                {
	                    onMouseDown: this.props.handleMouseDown,
	                    ref: 'buttonOuter',
	                    className: 'combination-element',
	                    style: {
	                        width: '80px',
	                        height: '80px',
	                        boxShadow: '#333 1px 1px 10px',
	                        padding: this.props.outerPadding + 'px ' + this.props.outerPadding + 'px',
	                        transition: 'transform .4s, box-shadow .4s',
	                        transform: this.props.itemHasAdd ? 'scale(1, 1)' : 'scale(0, 0)',
	                        opacity: .8,
	                        position: 'absolute',
	                        borderRadius: type == 1 ? '20px' : '100%',
	                        left: this.props.itemLeft,
	                        top: this.props.itemTop,
	                        background: this.props.background,
	                        cursor: 'pointer'
	                    }
	                },
	                _react2.default.createElement(
	                    'p',
	                    {
	                        style: {
	                            width: '80%',
	                            margin: '0 auto',
	                            textAlign: 'center',
	                            color: '#000',
	                            height: '40px',
	                            lineHeight: '40px',
	                            fontSize: '14px',
	                            textOverflow: 'ellipsis',
	                            whiteSpace: 'nowrap',
	                            overflow: 'hidden',
	                            borderBottom: '2px solid #000'
	                        }
	                    },
	                    this.props.value
	                ),
	                _react2.default.createElement(_delete2.default, this.props),
	                _react2.default.createElement(_more2.default, this.props),
	                _react2.default.createElement(InInterface, _extends({
	                    buttonType: 0,
	                    type: 0,
	                    handleConnectClick: this.props.handleConnectClick
	                }, this.props)),
	                _react2.default.createElement(InInterface, _extends({
	                    buttonType: 1,
	                    type: 1,
	                    handleConnectClick: this.props.handleConnectClick
	                }, this.props))
	            );
	        }
	    }]);

	    return CombinationElementComponent;
	}(_react.Component);

	var InInterface = _react2.default.createClass({
	    displayName: 'InInterface',
	    handleConnectClick: function handleConnectClick(e) {
	        var pos = this.props.handleConnectClick(e);
	        this.props.handleConnectButtonClick(this.props.type, this.props.index, this.props.buttonType, pos);
	    },
	    handleMouseDown: function handleMouseDown(e) {
	        e.stopPropagation();
	    },

	    // 次组件在初始化一次后除非接口变化便不再render
	    shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {
	        if (!nextProps.connectInterface) {
	            return false;
	        } else {
	            return true;
	        }
	    },
	    render: function render() {
	        return _react2.default.createElement(InInterfaceComponent, _extends({}, this.props, {
	            handleMouseDown: this.handleMouseDown,
	            handleConnectClick: this.handleConnectClick,
	            buttonTypeLeft: this.buttonTypeLeft,
	            interfaceTop: this.interfaceTop
	        }));
	    }
	});

	var InInterfaceComponent = function (_Component3) {
	    _inherits(InInterfaceComponent, _Component3);

	    function InInterfaceComponent() {
	        _classCallCheck(this, InInterfaceComponent);

	        return _possibleConstructorReturn(this, Object.getPrototypeOf(InInterfaceComponent).apply(this, arguments));
	    }

	    _createClass(InInterfaceComponent, [{
	        key: 'render',
	        value: function render() {
	            var buttonType = this.props.buttonType,
	                connectInterface = this.props.connectInterface;
	            var background = void 0;
	            if (connectInterface) {
	                if (buttonType === 0 && !connectInterface.inInterface) {
	                    background = '#000';
	                }
	                if (buttonType === 1 && !connectInterface.outInterface) {
	                    background = '#000';
	                }
	            }
	            return _react2.default.createElement(
	                'div',
	                {
	                    onClick: this.props.handleConnectClick,
	                    onMouseDown: this.props.handleMouseDown,
	                    className: 'interface',
	                    style: {
	                        width: '14px',
	                        height: '14px',
	                        border: '2px solid #000',
	                        position: 'absolute',
	                        top: '50%',
	                        marginTop: '-7px',
	                        display: this.props.buttonType == 0 && this.props.type == 0 ? 'none' : 'block',
	                        left: this.props.buttonType == 1 ? '82px' : '0px',
	                        color: '#333',
	                        textAlign: 'center',
	                        lineHeight: '14px',
	                        borderRadius: '100%'
	                    }
	                },
	                _react2.default.createElement('div', {
	                    className: 'interface-bg',
	                    style: {
	                        width: '10px',
	                        height: '10px',
	                        borderRadius: '100%',
	                        margin: '2px auto',
	                        background: background
	                    }
	                })
	            );
	        }
	    }]);

	    return InInterfaceComponent;
	}(_react.Component);

	exports.default = Combination;

/***/ },

/***/ 196:
/***/ function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	    value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _react = __webpack_require__(2);

	var _react2 = _interopRequireDefault(_react);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

	var DeleteButton = _react2.default.createClass({
	    displayName: 'DeleteButton',
	    render: function render() {
	        return _react2.default.createElement(DeleteButtonComponent, this.props);
	    }
	});

	var DeleteButtonComponent = function (_Component) {
	    _inherits(DeleteButtonComponent, _Component);

	    function DeleteButtonComponent() {
	        _classCallCheck(this, DeleteButtonComponent);

	        return _possibleConstructorReturn(this, Object.getPrototypeOf(DeleteButtonComponent).apply(this, arguments));
	    }

	    _createClass(DeleteButtonComponent, [{
	        key: 'render',
	        value: function render() {
	            return _react2.default.createElement(
	                'span',
	                {
	                    onClick: this.props.handleRemoveButtonClick,
	                    className: 'delete',
	                    style: {
	                        width: '16px',
	                        transition: 'all .4s',
	                        height: '16px',
	                        lineHeight: '16px',
	                        fontSize: '20px',
	                        borderRadius: '100%',
	                        border: '2px solid #000',
	                        display: 'block',
	                        float: 'left',
	                        textAlign: 'center',
	                        color: '#000',
	                        transform: 'rotate(45deg)',
	                        margin: '10px 10px'
	                    }
	                },
	                '+'
	            );
	        }
	    }]);

	    return DeleteButtonComponent;
	}(_react.Component);

	exports.default = DeleteButton;

/***/ },

/***/ 197:
/***/ function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	    value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _react = __webpack_require__(2);

	var _react2 = _interopRequireDefault(_react);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

	var MoreButton = _react2.default.createClass({
	    displayName: 'MoreButton',
	    render: function render() {
	        return _react2.default.createElement(MoreButtonComponent, this.props);
	    }
	});

	var MoreButtonComponent = function (_Component) {
	    _inherits(MoreButtonComponent, _Component);

	    function MoreButtonComponent() {
	        _classCallCheck(this, MoreButtonComponent);

	        return _possibleConstructorReturn(this, Object.getPrototypeOf(MoreButtonComponent).apply(this, arguments));
	    }

	    _createClass(MoreButtonComponent, [{
	        key: 'render',
	        value: function render() {
	            return _react2.default.createElement(
	                'span',
	                {
	                    className: 'more',
	                    style: {
	                        width: '16px',
	                        height: '16px',
	                        transition: 'all .4s',
	                        lineHeight: '8px',
	                        fontSize: '20px',
	                        borderRadius: '100%',
	                        border: '2px solid #000',
	                        display: 'block',
	                        float: 'left',
	                        textAlign: 'center',
	                        color: '#000',
	                        margin: '10px 10px'
	                    }
	                },
	                '..'
	            );
	        }
	    }]);

	    return MoreButtonComponent;
	}(_react.Component);

	exports.default = MoreButton;

/***/ },

/***/ 198:
/***/ function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	    value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

	var _react = __webpack_require__(2);

	var _react2 = _interopRequireDefault(_react);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

	var ConnectCanvas = _react2.default.createClass({
	    displayName: 'ConnectCanvas',
	    render: function render() {
	        return _react2.default.createElement(ConnectCanvasComponent, _extends({
	            ref: 'canvasContent'
	        }, this.props));
	    }
	});

	var ConnectCanvasComponent = function (_Component) {
	    _inherits(ConnectCanvasComponent, _Component);

	    function ConnectCanvasComponent() {
	        _classCallCheck(this, ConnectCanvasComponent);

	        return _possibleConstructorReturn(this, Object.getPrototypeOf(ConnectCanvasComponent).apply(this, arguments));
	    }

	    _createClass(ConnectCanvasComponent, [{
	        key: 'render',
	        value: function render() {
	            return _react2.default.createElement('canvas', {
	                style: {
	                    width: this.props.canvasWidth / window.devicePixelRatio + 'px',
	                    height: this.props.canvasHeight / window.devicePixelRatio + 'px'
	                },
	                ref: 'context',
	                width: this.props.canvasWidth,
	                height: this.props.canvasHeight
	            });
	        }
	    }]);

	    return ConnectCanvasComponent;
	}(_react.Component);

	exports.default = ConnectCanvas;

/***/ },

/***/ 199:
/***/ function(module, exports) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	    value: true
	});

	var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	var Draw = function () {
	    function Draw(context, conf) {
	        _classCallCheck(this, Draw);

	        this.context = context;
	        this.lineWidth = conf.lineWidth;
	        this.context.lineWidth = conf.lineWidth;
	        this.context.lineJoin = conf.lineJoin;
	        this.context.strokeStyle = conf.strokeStyle;
	        this.content = conf.content;
	        this.disTop = conf.disTop;
	        this.disLeft = conf.disLeft;
	        this.saveLine = {};
	        if (conf.scale) {
	            this.context.scale(conf.scale, conf.scale);
	        }
	    }

	    _createClass(Draw, [{
	        key: 'reDraw',
	        value: function reDraw(connectIndex) {
	            var _this = this;

	            var child = void 0;

	            this.clear();

	            connectIndex.forEach(function (item, index) {
	                while (item) {
	                    _this.context.beginPath();
	                    child = item.child[0];
	                    if (child) {
	                        _this.lineTo(item.data.pos.x + _this.disLeft, item.data.pos.y + _this.disTop, child.data.pos.x, child.data.pos.y + _this.disTop, true, //不开启反转
	                        item.data.type + item.data.index, child.data.type + child.data.index);
	                    }
	                    item = child;
	                }
	            });
	        }
	    }, {
	        key: 'drawAng',
	        value: function drawAng(beginx, beginy, oldwayArr, r) {
	            var _this2 = this;

	            var wayArr = Array.from(oldwayArr);

	            var DIS = this.lineWidth;
	            var angWidth = 10,
	                angHeight = 10,
	                showAng = 100;

	            var prvX = beginx,
	                prvY = beginy;
	            var disX = void 0,
	                disY = void 0;

	            this.context.beginPath();
	            this.context.lineJoin = 'bevel';

	            if (!r) {
	                //反转
	                wayArr.reverse();

	                var temp = wayArr.shift();

	                wayArr.push({
	                    x: beginx,
	                    y: beginy
	                });

	                prvX = temp.x;
	                prvY = temp.y;
	            }

	            wayArr.forEach(function (item) {
	                disX = item.x - prvX;
	                disY = item.y - prvY;
	                if (disX === 0) {
	                    //竖

	                    if (Math.abs(disY) >= showAng) {

	                        if (disY > 0) {
	                            __draw.call(_this2, prvX - angWidth / 2 + DIS / 1, prvY + (disY - angHeight) / 2, prvX + DIS / 1, prvY + disY / 2, prvX + angWidth / 2 + DIS / 1, prvY + (disY - angHeight) / 2, prvX + DIS / 1, prvY + (disY + angHeight) / 2);
	                        } else {
	                            __draw.call(_this2, prvX - angWidth / 2 + DIS / 1, prvY + (disY + angHeight) / 2, prvX + DIS / 1, prvY + disY / 2, prvX + angWidth / 2 + DIS / 1, prvY + (disY + angHeight) / 2, prvX + DIS / 1, prvY + (disY - angHeight) / 2);
	                        }
	                    }
	                } else if (disY === 0) {
	                    //横
	                    if (Math.abs(disX) >= showAng) {
	                        if (disX > 0) {
	                            __draw.call(_this2, prvX + (disX - angWidth) / 2, prvY + (disY - angHeight) / 2, prvX + disX / 2, prvY, prvX + (disX - angWidth) / 2, prvY + (disY + angHeight) / 2, prvX + (disX + angWidth) / 2, prvY);
	                        } else {
	                            __draw.call(_this2, prvX + (disX + angWidth) / 2, prvY + (disY - angHeight) / 2, prvX + disX / 2, prvY, prvX + (disX + angWidth) / 2, prvY + (disY + angHeight) / 2, prvX + (disX - angWidth) / 2, prvY);
	                        }
	                    }
	                }

	                prvX = item.x;
	                prvY = item.y;
	            });
	            this.context.lineJoin = 'round';
	        }
	    }, {
	        key: 'lineTo',
	        value: function lineTo(oldx, oldy, x, y, r, id1, id2) {
	            var _this3 = this;

	            var colorArr = void 0;
	            var DIS = 2;
	            var wayArr = _findWay(oldx, oldy, x, y, r);

	            if (id1 && id2) {
	                var cp = Array.from(wayArr);
	                cp.unshift({
	                    x: oldx,
	                    y: oldy
	                });
	                this.saveLine[id1 + '&' + id2] = cp;
	            }

	            this.drawAng(oldx, oldy, wayArr, r);
	            this.context.moveTo(oldx, oldy);

	            wayArr.forEach(function (item, index) {

	                _this3.context.lineTo(item.x + DIS, item.y);
	                oldx = item.x;
	                oldy = item.y;
	                _this3.context.stroke();
	            });
	            this.context.strokeStyle = '#333';
	        }
	    }, {
	        key: 'beginPath',
	        value: function beginPath() {
	            this.context.beginPath();
	        }
	    }, {
	        key: 'clear',
	        value: function clear() {
	            this.context.clearRect(0, 0, this.content.width, this.content.height);
	        }
	    }, {
	        key: 'changeColor',
	        value: function changeColor(x, y) {
	            var saveLine = this.saveLine;

	            var flag = void 0;

	            for (var key in saveLine) {
	                if (saveLine.hasOwnProperty(key)) {
	                    flag = __judInLine.call(this, x, y, saveLine[key]);
	                }
	            }
	        }
	    }]);

	    return Draw;
	}();

	exports.default = Draw;


	function __judInLine(x, y, lineArr) {
	    var disX = void 0,
	        disY = void 0;

	    for (var i = 0, len = lineArr.length - 1; i < len; i++) {
	        disX = lineArr[i + 1].x - lineArr[i].x, disY = lineArr[i + 1].y - lineArr[i].y;

	        if (disX === 0) {

	            if (disY > 0) {

	                if (y >= lineArr[i].y && y <= lineArr[i + 1].y && x >= lineArr[i].x && x <= lineArr[i].x + this.lineWidth * 4) {
	                    console.log();
	                }
	            } else {

	                if (y >= lineArr[i + 1].y && y <= lineArr[i].y && x >= lineArr[i].x && x <= lineArr[i].x + this.lineWidth * 4) {
	                    console.log('diaole');
	                }
	            }
	        } else if (disY === 0) {

	            if (disX > 0) {

	                if (x >= lineArr[i].x && x <= lineArr[i + 1].x && y >= lineArr[i].y && y <= lineArr[i].y + this.lineWidth * 4) {
	                    console.log('diaole');
	                }
	            } else {

	                if (x >= lineArr[i + 1].x && x <= lineArr[i].x && y >= lineArr[i].y && y <= lineArr[i].y + this.lineWidth * 4) {
	                    console.log('diaole');
	                }
	            }
	        }
	    }
	}

	function _findWay(oldx, oldy, x, y, r) {
	    var way = [];

	    var DIS = !r ? -50 : 50;

	    var judOldx = oldx,
	        judOldy = oldy,
	        judx = x,
	        judy = y;

	    if (!r) {

	        judOldx = x;
	        judx = oldx;
	    }

	    if (judx > judOldx) {
	        way.push({
	            x: (x - oldx) / 2 + oldx,
	            y: oldy
	        }, {
	            x: (x - oldx) / 2 + oldx,
	            y: y
	        }, {
	            x: x,
	            y: y
	        });
	    } else {
	        way.push({
	            x: oldx + DIS,
	            y: oldy
	        }, {
	            x: oldx + DIS,
	            y: (y - oldy) / 2 + oldy
	        }, {
	            x: x - DIS,
	            y: (y - oldy) / 2 + oldy
	        }, {
	            x: x - DIS,
	            y: y
	        }, {
	            x: x,
	            y: y
	        });
	    }
	    return way;
	}

	function __draw() {
	    for (var i = 0, len = arguments.length; i < len; i += 2) {
	        if (i === 0) {
	            this.context.moveTo(arguments[i], arguments[i + 1]);
	        } else {
	            this.context.lineTo(arguments[i], arguments[i + 1]);
	        }
	    }
	    this.context.closePath();
	    this.context.fill();
	}

	//将两个rgb值等分
	function __handleRgb(rgb1, rgb2, len) {
	    var matchRgb = /(\d+)/g;

	    var _rgb1$match = rgb1.match(matchRgb);

	    var _rgb1$match2 = _slicedToArray(_rgb1$match, 3);

	    var x1 = _rgb1$match2[0];
	    var y1 = _rgb1$match2[1];
	    var z1 = _rgb1$match2[2];

	    var _rgb2$match = rgb2.match(matchRgb);

	    var _rgb2$match2 = _slicedToArray(_rgb2$match, 3);

	    var x2 = _rgb2$match2[0];
	    var y2 = _rgb2$match2[1];
	    var z2 = _rgb2$match2[2];
	    var disX = x2 - x1;
	    var disY = y2 - y1;
	    var disZ = z2 - z1;


	    var colorArr = [];

	    for (var i = 0; i < len + 1; i++) {
	        colorArr.push('rgb(' + (x1 * 1 + Math.floor(disX * i / len)) + ',' + (y1 * 1 + Math.floor(disY * i / len)) + ',' + (z1 * 1 + Math.floor(disZ * i / len)) + ')');
	    }
	    return colorArr;
	}

/***/ }

});