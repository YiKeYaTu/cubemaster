webpackJsonp([1],{0:function(e,t,n){e.exports=n(115)},59:function(e,t){"use strict";function n(e){return{type:o,obj:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addActiveIndex=n;var o=t.ADD_ACTIVE_INDEX="ADD_ACTIVE_INDEX"},101:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(4),l=o(c),u=n(18),p=n(37),f=o(p),d=n(104),h=o(d),y=function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement("section",{style:{width:"100%"}},l["default"].createElement(f["default"],this.props),l["default"].createElement(h["default"],this.props))}}]),t}(c.Component);t["default"]=(0,u.connect)(function(e){return{move:e.move,initData:e.getInitData,initAlgorithmItem:e.getInitAlgorithmItem,INIT_LEFT:e.INIT_LEFT}})(y)},104:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return window.innerHeight-60}function c(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p=n(4),f=o(p),d=n(107),h=o(d),y=n(105),v=o(y),x=(n(59),f["default"].createClass({displayName:"Content",nextPos:"0px",initPos:"-60px",initInnerHTML:"待插入",nextInnerHTML:"已插入",getInitialState:function(){return{dataInf:this.props.initData,algorithmInf:this.props.initAlgorithmItem,activeIndex:[],parentIndex:null,childIndex:null,activeEl:null,connectIndex:[]}},updateConnectIndex:function(e){var t=this.state.connectIndex,n=this.state.parentIndex,o=this.state.childIndex,i=this.createStateConnectNode,r=this.clearRootChild,a=this.judInterface;if(a(n,o))if(n&&o)r(),n.child.push(o),n.data.connectInterface.outInterface=!1,o.data.connectInterface.inInterface=!1;else if(n&&!o)n.child.push(i(e[1])),n.data.connectInterface.outInterface=!1;else if(!n&&o){o.data.connectInterface.inInterface=!1;var s=i(e[0]);s.child.push(o),r(),t=this.state.connectIndex,t.push(s)}else{var c=i(e[0]);c.child.push(i(e[1])),t.push(c)}else this.cannotConnect("端口被占用");this.setState({parentIndex:null,childIndex:null,activeIndex:[],connectIndex:this.state.connectIndex},function(){})},clearRootChild:function(){var e=this.state.childIndex;this.state.connectIndex=this.state.connectIndex.filter(function(t,n){return t.data.type!=e.data.type||t.data.index!=e.data.index?t:void 0})},judClickInterface:function(e,t,n){var o=e+t,i=void 0;return 0==e?i=this.state.dataInf:1==e&&(i=this.state.algorithmInf),0==n?!i[o].connectInterface||i[o].connectInterface.inInterface:1==n?!i[o].connectInterface||i[o].connectInterface.outInterface:void 0},judInterface:function(e,t){return e&&t?e.data.connectInterface.outInterface&&t.data.connectInterface.inInterface:e&&!t?e.data.connectInterface.outInterface:!e&&t?t.data.connectInterface.inInterface:!0},createStateConnectNode:function(e){var t=void 0,n=e.type,o=e.buttonType;return 0==n?t=this.state.dataInf[e.type+e.index]:1==n&&(t=this.state.algorithmInf[e.type+e.index]),t.connectInterface={inInterface:1===o,outInterface:1!==o},t.pos=e.pos,{data:t,child:[]}},cannotConnect:function(e){console.error(e)},walkTree:function(e,t){var n=0;for(t(e),e=e.child;e[n];)e&&this.walkTree(e[n++],t)},getData:function(e){return 0==e?this.state.dataInf:this.state.algorithmInf},chooseDataToset:function(e,t,n){0==e?this.setState({dataInf:t},n):1==e&&this.setState({algorithmInf:t},n)},handleConnectButtonJudConnect:function(e){var t=this,n=this.state.connectIndex,o=200;return e[0].buttonType===e[1].buttonType?o=400:(n.forEach(function(n,o){n&&t.walkTree(n,function(n){n.data.type==e[0].type&&n.data.index==e[0].index?t.state.parentIndex=n:n.data.type==e[1].type&&n.data.index==e[1].index&&(t.state.childIndex=n)})}),o)},handleConnectButtonClick:function(e,t,n,o){var i=this.state.activeIndex.slice(),r=void 0;if(!this.judClickInterface(e,t,n))return this.cannotConnect("端口被占用");if(i.push({type:e,index:t,buttonType:n,pos:o}),2===i.length){if(0==i[0].buttonType){var a=i[0];i[0]=i[1],i[1]=a}200!==(r=this.handleConnectButtonJudConnect(i))?this.cannotConnect(r):this.updateConnectIndex(i)}else 1===i.length&&this.setState({activeIndex:i})},handleOverAndOut:function(e,t,n){var o=this.getData(e),i=e+t;o[i].itemHasAdd||(o[i].right=0===n?this.nextPos:this.initPos,this.chooseDataToset(e,o))},handleMouseOver:function(e,t){this.handleOverAndOut(e,t,0)},handleMouseOut:function(e,t){this.handleOverAndOut(e,t,1)},handleClick:function(e,t,n){var o=this.getData(e),i=e+t;o[i].itemHasAdd||(o[i].right=this.nextPos,o[i].itemHasAdd=!0,o[i].buttonInnerHTML=this.nextInnerHTML,this.chooseDataToset(e,o))},handleRemoveButtonClick:function(e,t){var n=this.getData(e),o=e+t;n[o].right=this.initPos,n[o].itemHasAdd=!1,n[o].buttonInnerHTML=this.initInnerHTML,this.chooseDataToset(e,n),this.removeConnectIndex(e,t)},handleItemMouseDown:function(e,t,n){var o=this.getData(e);this.setState({activeEl:{downPos:n,data:o[e+t]}})},handleItemMouseUp:function(e,t){this.setState({activeEl:null})},handleItemOuterClearClick:function(){this.setState({activeIndex:[]})},handleItemMouseMove:function(e,t){this.state.activeEl&&(this.state.activeEl.data.itemLeft=e+"px",this.state.activeEl.data.itemTop=t+"px",this.state.activeEl.data.pos={x:e,y:t},this.setState({connectIndex:this.state.connectIndex,dataInf:this.state.dataInf,algorithmInf:this.state.algorithmInf}))},removeConnectIndex:function(e,t){var n=this,o=this.state.connectIndex,i=void 0,r=void 0,a=void 0,s=void 0;o.forEach(function(o,c){o.data.type==e&&o.data.index==t?(a=o,s=c,r=o.child[0]):n.walkTree(o,function(n){var o=n.child[0];o&&o.data.type==e&&o.data.index==t&&(i=n,a=o,r=o.child[0])})}),a&&(a.data.connectInterface={inInterface:!0,outInterface:!0},a.child.pop()),r&&(r.data.connectInterface.inInterface=!0),i?(i.data.connectInterface.outInterface=!0,i.child.pop(),this.state.connectIndex=o.filter(function(e,t){return e.data.type!=i.data.type||e.data.index!=i.data.index?e:void 0})):a&&o.splice(s,1),r&&r.child&&this.state.connectIndex.push(r)},render:function(){var e=c(this.state.dataInf),t=c(this.state.algorithmInf);return f["default"].createElement(b,u({handleConnectButtonClick:this.handleConnectButtonClick,handleRemoveButtonClick:this.handleRemoveButtonClick,handleMouseOver:this.handleMouseOver,handleMouseOut:this.handleMouseOut,handleClick:this.handleClick,handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp,handleItemMouseMove:this.handleItemMouseMove,handleItemOuterClearClick:this.handleItemOuterClearClick},this.state,{dataInf:e,algorithmInf:t}))}})),b=function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),l(t,[{key:"componentDidMount",value:function(){this.rebuild(),window.onresize=function(){this.rebuild()}.bind(this)}},{key:"rebuild",value:function(){function e(){var e=s();e>n&&(t.style.marginTop=(e-n)/2+"px")}var t=this.refs.container,n=parseFloat(getComputedStyle(t).height);e()}},{key:"render",value:function(){var e=c(this.props.dataInf),t=c(this.props.algorithmInf);return f["default"].createElement("section",{ref:"container",style:{width:"1160px",margin:"0 auto",overflow:"hidden"}},f["default"].createElement("section",{style:{width:"300px","float":"left"}},f["default"].createElement(m,u({},this.props,{dataInf:e,val:"选择数据",type:"0"})),f["default"].createElement(m,u({},this.props,{dataInf:t,val:"选择算法",type:"1"}))),f["default"].createElement("section",{style:{width:"800px","float":"right"}},f["default"].createElement(v["default"],u({},this.props,{dataInf:e,algorithmInf:t}))))}}]),t}(p.Component),m=function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),l(t,[{key:"componentDidMount",value:function(){this.rebuildMargin()}},{key:"rebuildMargin",value:function(){var e=this.refs.itemContent,t=parseFloat(getComputedStyle(e).height),n=160;n>t&&(e.style.marginTop=(n-t)/2+"px")}},{key:"render",value:function(){var e=this,t=c(this.props.dataInf);c(this.props.algorithmInf);return f["default"].createElement("section",{style:{width:"280px",height:"280px",background:"#f5f5f5",borderRadius:"100%",marginTop:"20px",overflow:"hidden",border:"10px solid #f5f5f5"}},f["default"].createElement("div",{style:{background:"rgb(84, 182, 231)",width:"100%",height:"60px",textAlign:"center",lineHeight:"60px",color:"#f5f5f5",fontSize:"20px"}},this.props.val),f["default"].createElement("div",{ref:"itemContent",style:{width:"232px",maxHeight:"150px",overflowY:"scroll",margin:"10px auto",paddingTop:"10px"}},t.map(function(t,n){return f["default"].createElement(h["default"],u({index:n,key:n},t,e.props))})))}}]),t}(p.Component);t["default"]=x},105:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=n(4),u=o(l),p=n(108),f=o(p),d=n(109),h=o(d),y=n(106),v=o(y),x=n(121),b=o(x),m=function(e){var t=void 0,n=void 0;for(t=n=0;e;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return{x:t,y:n}},g=u["default"].createClass({displayName:"Combination",canvasWidth:780*window.devicePixelRatio,canvasHeight:780*window.devicePixelRatio,disTop:52,disLeft:98,outerPadding:10,drawContext:null,itemMouseMove:function(e){var t=this.props.activeEl,n=m(this.refs.component.refs.content);t&&this.props.handleItemMouseMove(e.pageX-n.x-t.downPos.x,e.pageY-n.y-t.downPos.y)},getContext:function(){return this.refs.component.refs.canvas.refs.canvasContent.refs.context.getContext("2d")},getCanvas:function(){return this.refs.component.refs.canvas.refs.canvasContent.refs.context},componentDidMount:function(){this.drawContext=new b["default"](this.getContext(),{lineWidth:2,lineJoin:"round",strokeStyle:"#333",disTop:this.disTop,disLeft:this.disLeft,content:this.getCanvas(),scale:window.devicePixelRatio})},componentWillUpdate:function(e,t){e.activeIndex;this.drawSaveContext(e.connectIndex)},drawSaveContext:function(e){this.drawContext.reDraw(e)},drawLineMouseMove:function(e,t){var n=this.props.activeIndex;if(0!=n.length){var o=m(this.getCanvas());this.drawSaveContext(this.props.connectIndex),this.drawContext.beginPath(),this.drawContext.lineTo(n[0].pos.x+(1===n[0].buttonType?this.disLeft:0),n[0].pos.y+this.disTop,e.pageX-o.x,e.pageY-o.y,n[0].buttonType)}},drawDeleteLineMouseMove:function(e){var t=m(this.getCanvas());this.drawContext.changeColor(e.pageX-t.x,e.pageY-t.y)},handleMouseMove:function(e,t){this.itemMouseMove(e),this.drawLineMouseMove(e,t),this.drawDeleteLineMouseMove(e)},render:function(){return u["default"].createElement(w,c({ref:"component"},this.props,{canvasWidth:this.canvasWidth,canvasHeight:this.canvasHeight,handleMouseMove:this.handleMouseMove,outerPadding:this.outerPadding}))}}),w=function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this;return u["default"].createElement("section",{ref:"content",onMouseMove:this.props.handleMouseMove,onMouseUp:this.props.handleItemMouseUp,onClick:this.props.handleItemOuterClearClick,style:{width:"780px",height:"600px",border:"10px solid #f5f5f5",background:"#f5f5f5",borderRadius:"40px",marginTop:"20px",position:"relative"}},u["default"].createElement("div",{style:{height:"50px",lineHeight:"50px",width:"100px",color:"#f5f5f5",fontSize:"20px",background:"rgb(84, 182, 231)",textAlign:"center",position:"absolute",top:"-17px",left:"-42px",zIndex:"1",fontWeight:"bold",transform:"rotate(-45deg)"}},"组合"),u["default"].createElement("section",{style:{width:"100%",position:"relative",height:"100%"}},u["default"].createElement(v["default"],c({ref:"canvas"},this.props)),this.props.dataInf.map(function(t,n){return u["default"].createElement(I,c({key:n},t,e.props))}),this.props.algorithmInf.map(function(t,n){return u["default"].createElement(I,c({key:n},t,e.props))})))}}]),t}(l.Component),I=u["default"].createClass({displayName:"CombinationElement",handleClick:function(e){e.stopPropagation(),this.props.handleRemoveButtonClick(this.props.type,this.props.index)},handleMouseDown:function(e){var t=m(e.currentTarget);this.props.handleItemMouseDown(this.props.type,this.props.index,{x:e.pageX-t.x,y:e.pageY-t.y})},handleConnectClick:function(e){e.stopPropagation();var t=this.refs.CombinationElementComponent.refs.buttonOuter;return{x:parseFloat(t.style.left),y:parseFloat(t.style.top)}},render:function(){return u["default"].createElement(C,c({ref:"CombinationElementComponent"},this.props,{handleRemoveButtonClick:this.handleClick,handleConnectClick:this.handleConnectClick,handleMouseDown:this.handleMouseDown,handleStopPropagation:this.handleStopPropagation}))}}),C=function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=(this.props.index,this.props.type);return u["default"].createElement("div",{onMouseDown:this.props.handleMouseDown,ref:"buttonOuter",className:"combination-element",style:{width:"80px",height:"80px",boxShadow:"#333 1px 1px 10px",padding:this.props.outerPadding+"px "+this.props.outerPadding+"px",transition:"transform .4s, box-shadow .4s",transform:this.props.itemHasAdd?"scale(1, 1)":"scale(0, 0)",opacity:.8,position:"absolute",borderRadius:1==e?"20px":"100%",left:this.props.itemLeft,top:this.props.itemTop,background:this.props.background,cursor:"pointer"}},u["default"].createElement("p",{style:{width:"80%",margin:"0 auto",textAlign:"center",color:"#000",height:"40px",lineHeight:"40px",fontSize:"14px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",borderBottom:"2px solid #000"}},this.props.value),u["default"].createElement(f["default"],this.props),u["default"].createElement(h["default"],this.props),u["default"].createElement(O,c({buttonType:0,type:0,handleConnectClick:this.props.handleConnectClick},this.props)),u["default"].createElement(O,c({buttonType:1,type:1,handleConnectClick:this.props.handleConnectClick},this.props)))}}]),t}(l.Component),O=u["default"].createClass({displayName:"InInterface",handleConnectClick:function(e){var t=this.props.handleConnectClick(e);this.props.handleConnectButtonClick(this.props.type,this.props.index,this.props.buttonType,t)},handleMouseDown:function(e){e.stopPropagation()},shouldComponentUpdate:function(e,t){return!!e.connectInterface},render:function(){return u["default"].createElement(M,c({},this.props,{handleMouseDown:this.handleMouseDown,handleConnectClick:this.handleConnectClick,buttonTypeLeft:this.buttonTypeLeft,interfaceTop:this.interfaceTop}))}}),M=function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.buttonType,t=this.props.connectInterface,n=void 0;return t&&(0!==e||t.inInterface||(n="#000"),1!==e||t.outInterface||(n="#000")),u["default"].createElement("div",{onClick:this.props.handleConnectClick,onMouseDown:this.props.handleMouseDown,className:"interface",style:{width:"14px",height:"14px",border:"2px solid #000",position:"absolute",top:"50%",marginTop:"-7px",display:0==this.props.buttonType&&0==this.props.type?"none":"block",left:1==this.props.buttonType?"82px":"0px",color:"#333",textAlign:"center",lineHeight:"14px",borderRadius:"100%"}},u["default"].createElement("div",{className:"interface-bg",style:{width:"10px",height:"10px",borderRadius:"100%",margin:"2px auto",background:n}}))}}]),t}(l.Component);t["default"]=g},106:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=n(4),u=o(l),p=u["default"].createClass({displayName:"ConnectCanvas",render:function(){return u["default"].createElement(f,c({ref:"canvasContent"},this.props))}}),f=function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u["default"].createElement("canvas",{style:{width:this.props.canvasWidth/window.devicePixelRatio+"px",height:this.props.canvasHeight/window.devicePixelRatio+"px"},ref:"context",width:this.props.canvasWidth,height:this.props.canvasHeight})}}]),t}(l.Component);t["default"]=p},107:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=n(4),u=o(l),p=u["default"].createClass({displayName:"DataItem",handleMouseOver:function(){this.props.handleMouseOver(this.props.type,this.props.index)},handleMouseOut:function(){this.props.handleMouseOut(this.props.type,this.props.index)},handleClick:function(){this.props.handleClick(this.props.type,this.props.index)},render:function(){return u["default"].createElement(f,c({},this.props,{background:this.props.background,handleClick:this.handleClick,handleMouseOut:this.handleMouseOut,handleMouseOver:this.handleMouseOver}))}}),f=function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.index,t=this.props.dataInf;return u["default"].createElement("div",{onMouseOver:this.props.handleMouseOver,onMouseOut:this.props.handleMouseOut,onClick:this.props.handleClick,style:{opacity:this.props.itemOpacity,width:"100px",height:"30px","float":"left",marginLeft:this.props.index%2===0?"0px":"16px",marginBottom:"10px",background:t[e].background,color:"#fff",position:"relative",textAlign:"center",lineHeight:"30px",cursor:"pointer",transition:"all .4s",overflow:"hidden",borderRadius:"0"==this.props.type?"20px":"2px"}},this.props.value,u["default"].createElement("span",{ref:"addInf",style:{display:"block",width:"60px",height:"30px",background:"rgba(0, 0, 0, 0.3)",position:"absolute",right:t[e].right,top:"0px",transition:"all .4s",color:"rgb(84, 182, 231)"}},t[e].buttonInnerHTML))}}]),t}(l.Component);t["default"]=p},108:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(4),l=o(c),u=l["default"].createClass({displayName:"DeleteButton",render:function(){return l["default"].createElement(p,this.props)}}),p=function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement("span",{onClick:this.props.handleRemoveButtonClick,className:"delete",style:{width:"16px",transition:"all .4s",height:"16px",lineHeight:"16px",fontSize:"20px",borderRadius:"100%",border:"2px solid #000",display:"block","float":"left",textAlign:"center",color:"#000",transform:"rotate(45deg)",margin:"10px 10px"}},"+")}}]),t}(c.Component);t["default"]=u},109:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(4),l=o(c),u=l["default"].createClass({displayName:"MoreButton",render:function(){return l["default"].createElement(p,this.props)}}),p=function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement("span",{className:"more",style:{width:"16px",height:"16px",transition:"all .4s",lineHeight:"8px",fontSize:"20px",borderRadius:"100%",border:"2px solid #000",display:"block","float":"left",textAlign:"center",color:"#000",margin:"10px 10px"}},"..")}}]),t}(c.Component);t["default"]=u},115:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var i=n(4),r=o(i),a=n(27),s=n(17),c=n(18),l=n(118),u=o(l),p=n(101),f=o(p),d=(0,s.createStore)(u["default"]);(0,a.render)(r["default"].createElement(c.Provider,{store:d},r["default"].createElement(f["default"],null)),document.getElementById("container"))},118:function(e,t,n){"use strict";function o(){var e=arguments.length<=0||void 0===arguments[0]?p:arguments[0],t=arguments[1];switch(t.type){default:return e}}function i(){var e=arguments.length<=0||void 0===arguments[0]?f:arguments[0],t=arguments[1];switch(t.type){default:return e}}function r(e,t){var n={};return e.forEach(function(e,o){n[t+o]={index:o,type:t,itemLeft:1==t?460+o%2*120+"px":100+o%2*120+"px",itemTop:120*Math.floor(o/2)+"px",value:e.value,right:l,background:"rgb("+a()+", "+a()+", "+a()+")",itemHasAdd:!1,buttonInnerHTML:u}}),n}function a(){return Math.floor(60*Math.random()+150)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(17),c=n(38),l=(n(59),"-60px"),u="待插入",p=r([{value:"我是数214421421据1"},0,0,0],"0"),f=r([{value:"我是算法"},0,0,0,0,0,0,0,0],"1"),d="525px",h=(0,s.combineReducers)({move:(0,c.move)(d),getInitData:o,getInitAlgorithmItem:i,INIT_LEFT:function(){return d}});t["default"]=h},121:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){for(var o=void 0,i=void 0,r=0,a=n.length-1;a>r;r++)o=n[r+1].x-n[r].x,i=n[r+1].y-n[r].y,0===o?i>0?t>=n[r].y&&t<=n[r+1].y&&e>=n[r].x&&e<=n[r].x+4*this.lineWidth&&console.log():t>=n[r+1].y&&t<=n[r].y&&e>=n[r].x&&e<=n[r].x+4*this.lineWidth&&console.log("diaole"):0===i&&(o>0?e>=n[r].x&&e<=n[r+1].x&&t>=n[r].y&&t<=n[r].y+4*this.lineWidth&&console.log("diaole"):e>=n[r+1].x&&e<=n[r].x&&t>=n[r].y&&t<=n[r].y+4*this.lineWidth&&console.log("diaole"))}function i(e,t,n,o,i){var r=[],a=i?50:-50,s=e,c=n;return i||(s=n,c=e),c>s?r.push({x:(n-e)/2+e,y:t},{x:(n-e)/2+e,y:o},{x:n,y:o}):r.push({x:e+a,y:t},{x:e+a,y:(o-t)/2+t},{x:n-a,y:(o-t)/2+t},{x:n-a,y:o},{x:n,y:o}),r}function r(){for(var e=0,t=arguments.length;t>e;e+=2)0===e?this.context.moveTo(arguments[e],arguments[e+1]):this.context.lineTo(arguments[e],arguments[e+1]);this.context.closePath(),this.context.fill()}Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(c){i=!0,r=c}finally{try{!o&&s["return"]&&s["return"]()}finally{if(i)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),s=function(){function e(t,o){n(this,e),this.context=t,this.lineWidth=o.lineWidth,this.context.lineWidth=o.lineWidth,this.context.lineJoin=o.lineJoin,this.context.strokeStyle=o.strokeStyle,this.content=o.content,this.disTop=o.disTop,this.disLeft=o.disLeft,this.saveLine={},o.scale&&this.context.scale(o.scale,o.scale)}return a(e,[{key:"reDraw",value:function(e){var t=this,n=void 0;this.clear(),e.forEach(function(e,o){for(;e;)t.context.beginPath(),n=e.child[0],n&&t.lineTo(e.data.pos.x+t.disLeft,e.data.pos.y+t.disTop,n.data.pos.x,n.data.pos.y+t.disTop,!0,e.data.type+e.data.index,n.data.type+n.data.index),e=n})}},{key:"drawAng",value:function(e,t,n,o){var i=this,a=Array.from(n),s=this.lineWidth,c=10,l=10,u=100,p=e,f=t,d=void 0,h=void 0;if(this.context.beginPath(),this.context.lineJoin="bevel",!o){a.reverse();var y=a.shift();a.push({x:e,y:t}),p=y.x,f=y.y}a.forEach(function(e){d=e.x-p,h=e.y-f,0===d?Math.abs(h)>=u&&(h>0?r.call(i,p-c/2+s/1,f+(h-l)/2,p+s/1,f+h/2,p+c/2+s/1,f+(h-l)/2,p+s/1,f+(h+l)/2):r.call(i,p-c/2+s/1,f+(h+l)/2,p+s/1,f+h/2,p+c/2+s/1,f+(h+l)/2,p+s/1,f+(h-l)/2)):0===h&&Math.abs(d)>=u&&(d>0?r.call(i,p+(d-c)/2,f+(h-l)/2,p+d/2,f,p+(d-c)/2,f+(h+l)/2,p+(d+c)/2,f):r.call(i,p+(d+c)/2,f+(h-l)/2,p+d/2,f,p+(d+c)/2,f+(h+l)/2,p+(d-c)/2,f)),p=e.x,f=e.y}),this.context.lineJoin="round"}},{key:"lineTo",value:function(e,t,n,o,r,a,s){var c=this,l=2,u=i(e,t,n,o,r);if(a&&s){var p=Array.from(u);p.unshift({x:e,y:t}),this.saveLine[a+"&"+s]=p}this.drawAng(e,t,u,r),this.context.moveTo(e,t),u.forEach(function(n,o){c.context.lineTo(n.x+l,n.y),e=n.x,t=n.y,c.context.stroke()}),this.context.strokeStyle="#333"}},{key:"beginPath",value:function(){this.context.beginPath()}},{key:"clear",value:function(){this.context.clearRect(0,0,this.content.width,this.content.height)}},{key:"changeColor",value:function(e,t){var n=this.saveLine,i=void 0;for(var r in n)n.hasOwnProperty(r)&&(i=o.call(this,e,t,n[r]))}}]),e}();t["default"]=s}});