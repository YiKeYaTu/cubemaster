webpackJsonp([1],{0:function(t,e,n){t.exports=n(118)},60:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function i(t){return{type:p,obj:t}}function r(t){return{type:f,json:t}}function a(){return function(t){return(0,c["default"])(u["default"].getDataServer,{credentials:"include"}).then(function(t){return t.json()}).then(function(e){t(r(e))})}}Object.defineProperty(e,"__esModule",{value:!0}),e.ADD_AJAX_DATA=e.ADD_ACTIVE_INDEX=void 0,e.addActiveIndex=i,e.addAjaxData=r,e.fetchPosts=a;var s=n(69),c=o(s),l=n(62),u=o(l),p=e.ADD_ACTIVE_INDEX="ADD_ACTIVE_INDEX",f=e.ADD_AJAX_DATA="ADD_AJAX_DATA"},104:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=n(4),l=o(c),u=n(19),p=n(38),f=o(p),d=n(107),h=o(d),y=function(t){function e(){return i(this,e),r(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){return l["default"].createElement("section",{style:{width:"100%"}},l["default"].createElement(f["default"],this.props),l["default"].createElement(h["default"],this.props))}}]),e}(c.Component);e["default"]=(0,u.connect)(function(t){return{move:t.move,initData:t.getInitData,initAlgorithmItem:t.getInitAlgorithmItem,INIT_LEFT:t.INIT_LEFT,loginInf:t.loginInf}})(y)},107:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){return window.innerHeight-60}function c(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},p=n(4),f=o(p),d=n(110),h=o(d),y=n(108),v=o(y),x=n(60),b=f["default"].createClass({displayName:"Content",nextPos:"0px",initPos:"-60px",initInnerHTML:"待插入",nextInnerHTML:"已插入",getInitialState:function(){return{dataInf:this.props.initData,algorithmInf:this.props.initAlgorithmItem,dataOver:!1,activeIndex:[],parentIndex:null,childIndex:null,activeEl:null,connectIndex:[]}},componentDidMount:function(){var t=this;this.props.dispatch((0,x.fetchPosts)()).then(function(){t.setState({dataOver:!0,dataInf:t.props.initData,algorithmInf:t.props.initAlgorithmItem})})},updateConnectIndex:function(t){var e=this,n=this.state.connectIndex,o=this.state.parentIndex,i=this.state.childIndex,r=this.createStateConnectNode,a=this.clearRootChild,s=this.judInterface;if(s(o,i))if(o&&i)a(),o.child.push(i),o.data.connectInterface.outInterface=!1,i.data.connectInterface.inInterface=!1;else if(o&&!i)o.child.push(r(t[1])),o.data.connectInterface.outInterface=!1;else if(!o&&i){i.data.connectInterface.inInterface=!1;var c=r(t[0]);c.child.push(i),a(),n=this.state.connectIndex,n.push(c)}else{var l=r(t[0]);l.child.push(r(t[1])),n.push(l)}else this.cannotConnect("端口被占用");this.setState({parentIndex:null,childIndex:null,activeIndex:[],connectIndex:this.state.connectIndex},function(){console.log(e.state.connectIndex)})},clearRootChild:function(){var t=this.state.childIndex;this.state.connectIndex=this.state.connectIndex.filter(function(e,n){return e.data.type!=t.data.type||e.data.index!=t.data.index?e:void 0})},judClickInterface:function(t,e,n){var o=t+e,i=void 0;return 0==t?i=this.state.dataInf:1==t&&(i=this.state.algorithmInf),0==n?!i[o].connectInterface||i[o].connectInterface.inInterface:1==n?!i[o].connectInterface||i[o].connectInterface.outInterface:void 0},judInterface:function(t,e){return t&&e?t.data.connectInterface.outInterface&&e.data.connectInterface.inInterface:t&&!e?t.data.connectInterface.outInterface:!t&&e?e.data.connectInterface.inInterface:!0},createStateConnectNode:function(t){var e=void 0,n=t.type,o=t.buttonType;return 0==n?e=this.state.dataInf[t.type+t.index]:1==n&&(e=this.state.algorithmInf[t.type+t.index]),e.connectInterface={inInterface:1===o,outInterface:1!==o},e.pos=t.pos,{data:e,child:[]}},cannotConnect:function(t){console.error(t)},walkTree:function(t,e){var n=0;for(e(t),t=t.child;t[n];)t&&this.walkTree(t[n++],e)},getData:function(t){return 0==t?this.state.dataInf:this.state.algorithmInf},chooseDataToset:function(t,e,n){0==t?this.setState({dataInf:e},n):1==t&&this.setState({algorithmInf:e},n)},handleConnectButtonJudConnect:function(t){var e=this,n=this.state.connectIndex,o=200;return t[0].buttonType===t[1].buttonType?o=400:(n.forEach(function(n,o){n&&e.walkTree(n,function(n){n.data.type==t[0].type&&n.data.index==t[0].index?e.state.parentIndex=n:n.data.type==t[1].type&&n.data.index==t[1].index&&(e.state.childIndex=n)})}),o)},handleConnectButtonClick:function(t,e,n,o){var i=this.state.activeIndex.slice(),r=void 0;if(!this.judClickInterface(t,e,n))return this.cannotConnect("端口被占用");if(i.push({type:t,index:e,buttonType:n,pos:o}),2===i.length){if(0==i[0].buttonType){var a=i[0];i[0]=i[1],i[1]=a}200!==(r=this.handleConnectButtonJudConnect(i))?this.cannotConnect(r):this.updateConnectIndex(i)}else 1===i.length&&this.setState({activeIndex:i})},handleOverAndOut:function(t,e,n){var o=this.getData(t),i=t+e;o[i].itemHasAdd||(o[i].right=0===n?this.nextPos:this.initPos,this.chooseDataToset(t,o))},handleMouseOver:function(t,e){this.handleOverAndOut(t,e,0)},handleMouseOut:function(t,e){this.handleOverAndOut(t,e,1)},handleClick:function(t,e,n){var o=this.getData(t),i=t+e;o[i].itemHasAdd||(o[i].right=this.nextPos,o[i].itemHasAdd=!0,o[i].buttonInnerHTML=this.nextInnerHTML,this.chooseDataToset(t,o))},handleRemoveButtonClick:function(t,e){var n=this.getData(t),o=t+e;n[o].right=this.initPos,n[o].itemHasAdd=!1,n[o].buttonInnerHTML=this.initInnerHTML,this.chooseDataToset(t,n),this.removeConnectIndex(t,e)},handleItemMouseDown:function(t,e,n){var o=this.getData(t);this.setState({activeEl:{downPos:n,data:o[t+e]}})},handleItemMouseUp:function(t,e){this.setState({activeEl:null})},handleItemOuterClearClick:function(){this.setState({activeIndex:[]})},handleItemMouseMove:function(t,e){this.state.activeEl&&(this.state.activeEl.data.itemLeft=t+"px",this.state.activeEl.data.itemTop=e+"px",this.state.activeEl.data.pos={x:t,y:e},this.setState({connectIndex:this.state.connectIndex,dataInf:this.state.dataInf,algorithmInf:this.state.algorithmInf}))},removeConnectIndex:function(t,e){var n=this,o=this.state.connectIndex,i=void 0,r=void 0,a=void 0,s=void 0;o.forEach(function(o,c){o.data.type==t&&o.data.index==e?(a=o,s=c,r=o.child[0]):n.walkTree(o,function(n){var o=n.child[0];o&&o.data.type==t&&o.data.index==e&&(i=n,a=o,r=o.child[0])})}),a&&(a.data.connectInterface={inInterface:!0,outInterface:!0},a.child.pop()),r&&(r.data.connectInterface.inInterface=!0),i?(i.data.connectInterface.outInterface=!0,i.child.pop(),this.state.connectIndex=o.filter(function(t,e){return t.data.type!=i.data.type||t.data.index!=i.data.index?t:void 0})):a&&o.splice(s,1),r&&r.child&&this.state.connectIndex.push(r)},render:function(){var t=c(this.state.dataInf),e=c(this.state.algorithmInf);return f["default"].createElement(m,u({handleConnectButtonClick:this.handleConnectButtonClick,handleRemoveButtonClick:this.handleRemoveButtonClick,handleMouseOver:this.handleMouseOver,handleMouseOut:this.handleMouseOut,handleClick:this.handleClick,handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp,handleItemMouseMove:this.handleItemMouseMove,handleItemOuterClearClick:this.handleItemOuterClearClick},this.state,this.props,{dataInf:t,algorithmInf:e}))}}),m=function(t){function e(){return i(this,e),r(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),l(e,[{key:"componentDidMount",value:function(){this.rebuild(),window.onresize=function(){this.rebuild()}.bind(this)}},{key:"rebuild",value:function(){function t(){var t=s();t>n&&(e.style.marginTop=(t-n)/2+"px")}var e=this.refs.container,n=parseFloat(getComputedStyle(e).height);t()}},{key:"render",value:function(){var t=c(this.props.dataInf),e=c(this.props.algorithmInf);return f["default"].createElement("section",{ref:"container",style:{width:"1160px",margin:"0 auto",overflow:"hidden"}},f["default"].createElement("section",{style:{width:"300px","float":"left"}},f["default"].createElement(g,u({},this.props,{dataInf:t,val:"选择数据",type:"0"})),f["default"].createElement(g,u({},this.props,{dataInf:e,val:"选择算法",type:"1"}))),f["default"].createElement("section",{style:{width:"800px","float":"right"}},f["default"].createElement(v["default"],u({},this.props,{dataInf:t,algorithmInf:e}))))}}]),e}(p.Component),g=function(t){function e(){return i(this,e),r(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),l(e,[{key:"componentDidMount",value:function(){this.rebuildMargin()}},{key:"rebuildMargin",value:function(){var t=this.refs.itemContent,e=parseFloat(getComputedStyle(t).height),n=160;n>e&&(t.style.marginTop=(n-e)/2+"px")}},{key:"componentDidUpdate",value:function(t,e){this.rebuildMargin()}},{key:"render",value:function(){var t=this,e=c(this.props.dataInf);c(this.props.algorithmInf);return f["default"].createElement("section",{style:{width:"280px",height:"280px",background:"#f5f5f5",borderRadius:"100%",marginTop:"20px",overflow:"hidden",border:"10px solid #f5f5f5"}},f["default"].createElement("div",{style:{background:"rgb(84, 182, 231)",width:"100%",height:"60px",textAlign:"center",lineHeight:"60px",color:"#f5f5f5",fontSize:"20px"}},this.props.val),f["default"].createElement("div",{style:{width:"280px",height:"160px",display:this.props.dataOver?"none":"block"}}),f["default"].createElement("div",{ref:"itemContent",style:{width:"232px",display:this.props.dataOver?"block":"none",maxHeight:"150px",overflowY:"scroll",margin:"10px auto",paddingTop:"10px"}},e.map(function(e,n){return f["default"].createElement(h["default"],u({index:n,key:n},e,t.props))})))}}]),e}(p.Component);e["default"]=b},108:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},l=n(4),u=o(l),p=n(111),f=o(p),d=n(112),h=o(d),y=n(109),v=o(y),x=n(124),b=o(x),m=function(t){var e=void 0,n=void 0;for(e=n=0;t;)e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{x:e,y:n}},g=u["default"].createClass({displayName:"Combination",canvasWidth:780*window.devicePixelRatio,canvasHeight:780*window.devicePixelRatio,disTop:52,disLeft:98,outerPadding:10,drawContext:null,itemMouseMove:function(t){var e=this.props.activeEl,n=m(this.refs.component.refs.content);e&&this.props.handleItemMouseMove(t.pageX-n.x-e.downPos.x,t.pageY-n.y-e.downPos.y)},getContext:function(){return this.refs.component.refs.canvas.refs.canvasContent.refs.context.getContext("2d")},getCanvas:function(){return this.refs.component.refs.canvas.refs.canvasContent.refs.context},componentDidMount:function(){this.drawContext=new b["default"](this.getContext(),{lineWidth:2,lineJoin:"round",strokeStyle:"#333",disTop:this.disTop,disLeft:this.disLeft,content:this.getCanvas(),scale:window.devicePixelRatio})},componentWillUpdate:function(t,e){t.activeIndex;this.drawSaveContext(t.connectIndex)},drawSaveContext:function(t){this.drawContext.reDraw(t)},drawLineMouseMove:function(t,e){var n=this.props.activeIndex;if(0!=n.length){var o=m(this.getCanvas());this.drawSaveContext(this.props.connectIndex),this.drawContext.beginPath(),this.drawContext.lineTo(n[0].pos.x+(1===n[0].buttonType?this.disLeft:0),n[0].pos.y+this.disTop,t.pageX-o.x,t.pageY-o.y,n[0].buttonType)}},drawDeleteLineMouseMove:function(t){var e=m(this.getCanvas());this.drawContext.changeColor(t.pageX-e.x,t.pageY-e.y)},handleMouseMove:function(t,e){this.itemMouseMove(t),this.drawLineMouseMove(t,e),this.drawDeleteLineMouseMove(t)},render:function(){return u["default"].createElement(I,c({ref:"component"},this.props,{canvasWidth:this.canvasWidth,canvasHeight:this.canvasHeight,handleMouseMove:this.handleMouseMove,outerPadding:this.outerPadding}))}}),I=function(t){function e(){return i(this,e),r(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){var t=this;return u["default"].createElement("section",{ref:"content",onMouseMove:this.props.handleMouseMove,onMouseUp:this.props.handleItemMouseUp,onClick:this.props.handleItemOuterClearClick,style:{width:"780px",height:"600px",border:"10px solid #f5f5f5",background:"#f5f5f5",borderRadius:"40px",marginTop:"20px",position:"relative"}},u["default"].createElement("div",{style:{height:"50px",lineHeight:"50px",width:"100px",color:"#f5f5f5",fontSize:"20px",background:"rgb(84, 182, 231)",textAlign:"center",position:"absolute",top:"-17px",left:"-42px",zIndex:"1",fontWeight:"bold",transform:"rotate(-45deg)"}},"组合"),u["default"].createElement("section",{style:{width:"100%",position:"relative",height:"100%"}},u["default"].createElement(v["default"],c({ref:"canvas"},this.props)),this.props.dataInf.map(function(e,n){return u["default"].createElement(w,c({key:n},e,t.props))}),this.props.algorithmInf.map(function(e,n){return u["default"].createElement(w,c({key:n},e,t.props))})))}}]),e}(l.Component),w=u["default"].createClass({displayName:"CombinationElement",handleClick:function(t){t.stopPropagation(),this.props.handleRemoveButtonClick(this.props.type,this.props.index)},handleMouseDown:function(t){var e=m(t.currentTarget);this.props.handleItemMouseDown(this.props.type,this.props.index,{x:t.pageX-e.x,y:t.pageY-e.y})},handleConnectClick:function(t){t.stopPropagation();var e=this.refs.CombinationElementComponent.refs.buttonOuter;return{x:parseFloat(e.style.left),y:parseFloat(e.style.top)}},render:function(){return u["default"].createElement(C,c({ref:"CombinationElementComponent"},this.props,{handleRemoveButtonClick:this.handleClick,handleConnectClick:this.handleConnectClick,handleMouseDown:this.handleMouseDown,handleStopPropagation:this.handleStopPropagation}))}}),C=function(t){function e(){return i(this,e),r(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){var t=(this.props.index,this.props.type);return u["default"].createElement("div",{onMouseDown:this.props.handleMouseDown,ref:"buttonOuter",className:"combination-element",style:{width:"80px",height:"80px",boxShadow:"#333 1px 1px 10px",padding:this.props.outerPadding+"px "+this.props.outerPadding+"px",transition:"transform .4s, box-shadow .4s",transform:this.props.itemHasAdd?"scale(1, 1)":"scale(0, 0)",opacity:.8,position:"absolute",borderRadius:1==t?"20px":"100%",left:this.props.itemLeft,top:this.props.itemTop,background:this.props.background,cursor:"pointer"}},u["default"].createElement("p",{style:{width:"80%",margin:"0 auto",textAlign:"center",color:"#000",height:"40px",lineHeight:"40px",fontSize:"14px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",borderBottom:"2px solid #000"}},this.props.value),u["default"].createElement(f["default"],this.props),u["default"].createElement(h["default"],this.props),u["default"].createElement(O,c({buttonType:0,type:0,handleConnectClick:this.props.handleConnectClick},this.props)),u["default"].createElement(O,c({buttonType:1,type:1,handleConnectClick:this.props.handleConnectClick},this.props)))}}]),e}(l.Component),O=u["default"].createClass({displayName:"InInterface",handleConnectClick:function(t){var e=this.props.handleConnectClick(t);this.props.handleConnectButtonClick(this.props.type,this.props.index,this.props.buttonType,e)},handleMouseDown:function(t){t.stopPropagation()},shouldComponentUpdate:function(t,e){return!!t.connectInterface},render:function(){return u["default"].createElement(M,c({},this.props,{handleMouseDown:this.handleMouseDown,handleConnectClick:this.handleConnectClick,buttonTypeLeft:this.buttonTypeLeft,interfaceTop:this.interfaceTop}))}}),M=function(t){function e(){return i(this,e),r(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){var t=this.props.buttonType,e=this.props.connectInterface,n=void 0;return e&&(0!==t||e.inInterface||(n="#000"),1!==t||e.outInterface||(n="#000")),u["default"].createElement("div",{onClick:this.props.handleConnectClick,onMouseDown:this.props.handleMouseDown,className:"interface",style:{width:"14px",height:"14px",border:"2px solid #000",position:"absolute",top:"50%",marginTop:"-7px",display:0==this.props.buttonType&&0==this.props.type?"none":"block",left:1==this.props.buttonType?"82px":"0px",color:"#333",textAlign:"center",lineHeight:"14px",borderRadius:"100%"}},u["default"].createElement("div",{className:"interface-bg",style:{width:"10px",height:"10px",borderRadius:"100%",margin:"2px auto",background:n}}))}}]),e}(l.Component);e["default"]=g},109:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},l=n(4),u=o(l),p=u["default"].createClass({displayName:"ConnectCanvas",render:function(){return u["default"].createElement(f,c({ref:"canvasContent"},this.props))}}),f=function(t){function e(){return i(this,e),r(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){return u["default"].createElement("canvas",{style:{width:this.props.canvasWidth/window.devicePixelRatio+"px",height:this.props.canvasHeight/window.devicePixelRatio+"px"},ref:"context",width:this.props.canvasWidth,height:this.props.canvasHeight})}}]),e}(l.Component);e["default"]=p},110:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},l=n(4),u=o(l),p=u["default"].createClass({displayName:"DataItem",handleMouseOver:function(){this.props.handleMouseOver(this.props.type,this.props.index)},handleMouseOut:function(){this.props.handleMouseOut(this.props.type,this.props.index)},handleClick:function(){this.props.handleClick(this.props.type,this.props.index)},render:function(){return u["default"].createElement(f,c({},this.props,{background:this.props.background,handleClick:this.handleClick,handleMouseOut:this.handleMouseOut,handleMouseOver:this.handleMouseOver}))}}),f=function(t){function e(){return i(this,e),r(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){var t=this.props.index,e=this.props.dataInf;return u["default"].createElement("div",{onMouseOver:this.props.handleMouseOver,onMouseOut:this.props.handleMouseOut,onClick:this.props.handleClick,style:{opacity:this.props.itemOpacity,width:"100px",height:"30px","float":"left",marginLeft:this.props.index%2===0?"0px":"16px",marginBottom:"10px",background:e[t].background,color:"#fff",position:"relative",textAlign:"center",lineHeight:"30px",cursor:"pointer",transition:"all .4s",overflow:"hidden",borderRadius:"0"==this.props.type?"20px":"2px"}},this.props.value,u["default"].createElement("span",{ref:"addInf",style:{display:"block",width:"60px",height:"30px",background:"rgba(0, 0, 0, 0.3)",position:"absolute",right:e[t].right,top:"0px",transition:"all .4s",color:"rgb(84, 182, 231)"}},e[t].buttonInnerHTML))}}]),e}(l.Component);e["default"]=p},111:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=n(4),l=o(c),u=l["default"].createClass({displayName:"DeleteButton",render:function(){return l["default"].createElement(p,this.props)}}),p=function(t){function e(){return i(this,e),r(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){return l["default"].createElement("span",{onClick:this.props.handleRemoveButtonClick,className:"delete",style:{width:"16px",transition:"all .4s",height:"16px",lineHeight:"16px",fontSize:"20px",borderRadius:"100%",border:"2px solid #000",display:"block","float":"left",textAlign:"center",color:"#000",transform:"rotate(45deg)",margin:"10px 10px"}},"+")}}]),e}(c.Component);e["default"]=u},112:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=n(4),l=o(c),u=l["default"].createClass({displayName:"MoreButton",render:function(){return l["default"].createElement(p,this.props)}}),p=function(t){function e(){return i(this,e),r(this,Object.getPrototypeOf(e).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){return l["default"].createElement("span",{className:"more",style:{width:"16px",height:"16px",transition:"all .4s",lineHeight:"8px",fontSize:"20px",borderRadius:"100%",border:"2px solid #000",display:"block","float":"left",textAlign:"center",color:"#000",margin:"10px 10px"}},"..")}}]),e}(c.Component);e["default"]=u},118:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var i=n(4),r=o(i),a=n(28),s=n(15),c=n(19),l=n(37),u=o(l),p=n(121),f=o(p),d=n(104),h=o(d),y=n(16),v=(0,s.createStore)(f["default"],(0,s.applyMiddleware)(u["default"]));v.dispatch((0,y.getLoginInf)()).then(function(){var t=v.getState(),e=t&&t.loginInf&&t.loginInf.redirect;e&&(window.location="/cubemaster/user/redirectLogin?redirect="+e)}),(0,a.render)(r["default"].createElement(c.Provider,{store:v},r["default"].createElement(h["default"],null)),document.getElementById("container"))},121:function(t,e,n){"use strict";function o(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments[1];switch(e.type){case l.ADD_AJAX_DATA:return a(e.json.dataset,"0");default:return t}}function i(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments[1];switch(e.type){case l.ADD_AJAX_DATA:return a(e.json.algorithm,"1");default:return t}}function r(){return Math.floor(60*Math.random()+150)}function a(t,e){var n={};return t.forEach(function(t,o){n[e+o]={index:o,type:e,itemLeft:1==e?460+o%2*120+"px":100+o%2*120+"px",itemTop:120*Math.floor(o/2)+"px",value:t.algorithm_name||t.dataset_name,serverData:t,right:u,background:"rgb("+r()+", "+r()+", "+r()+")",itemHasAdd:!1,buttonInnerHTML:p}}),n}Object.defineProperty(e,"__esModule",{value:!0});var s=n(15),c=n(39),l=n(60),u="-60px",p="待插入",f="525px",d=(0,s.combineReducers)({move:(0,c.move)(f),loginInf:c.loginInf,getInitData:o,getInitAlgorithmItem:i,INIT_LEFT:function(){return f}});e["default"]=d},124:function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n){for(var o=void 0,i=void 0,r=0,a=n.length-1;a>r;r++)o=n[r+1].x-n[r].x,i=n[r+1].y-n[r].y,0===o?i>0?e>=n[r].y&&e<=n[r+1].y&&t>=n[r].x&&t<=n[r].x+4*this.lineWidth&&console.log():e>=n[r+1].y&&e<=n[r].y&&t>=n[r].x&&t<=n[r].x+4*this.lineWidth&&console.log("diaole"):0===i&&(o>0?t>=n[r].x&&t<=n[r+1].x&&e>=n[r].y&&e<=n[r].y+4*this.lineWidth&&console.log("diaole"):t>=n[r+1].x&&t<=n[r].x&&e>=n[r].y&&e<=n[r].y+4*this.lineWidth&&console.log("diaole"))}function i(t,e,n,o,i){var r=[],a=i?50:-50,s=t,c=n;return i||(s=n,c=t),c>s?r.push({x:(n-t)/2+t,y:e},{x:(n-t)/2+t,y:o},{x:n,y:o}):r.push({x:t+a,y:e},{x:t+a,y:(o-e)/2+e},{x:n-a,y:(o-e)/2+e},{x:n-a,y:o},{x:n,y:o}),r}function r(){for(var t=0,e=arguments.length;e>t;t+=2)0===t?this.context.moveTo(arguments[t],arguments[t+1]):this.context.lineTo(arguments[t],arguments[t+1]);this.context.closePath(),this.context.fill()}Object.defineProperty(e,"__esModule",{value:!0});var a=(function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(c){i=!0,r=c}finally{try{!o&&s["return"]&&s["return"]()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}()),s=function(){function t(e,o){n(this,t),this.context=e,this.lineWidth=o.lineWidth,this.context.lineWidth=o.lineWidth,this.context.lineJoin=o.lineJoin,this.context.strokeStyle=o.strokeStyle,this.content=o.content,this.disTop=o.disTop,this.disLeft=o.disLeft,this.saveLine={},o.scale&&this.context.scale(o.scale,o.scale)}return a(t,[{key:"reDraw",value:function(t){var e=this,n=void 0;this.clear(),t.forEach(function(t,o){for(;t;)e.context.beginPath(),n=t.child[0],n&&e.lineTo(t.data.pos.x+e.disLeft,t.data.pos.y+e.disTop,n.data.pos.x,n.data.pos.y+e.disTop,!0,t.data.type+t.data.index,n.data.type+n.data.index),t=n})}},{key:"drawAng",value:function(t,e,n,o){var i=this,a=Array.from(n),s=this.lineWidth,c=10,l=10,u=100,p=t,f=e,d=void 0,h=void 0;if(this.context.beginPath(),this.context.lineJoin="bevel",!o){a.reverse();var y=a.shift();a.push({x:t,y:e}),p=y.x,f=y.y}a.forEach(function(t){d=t.x-p,h=t.y-f,0===d?Math.abs(h)>=u&&(h>0?r.call(i,p-c/2+s/1,f+(h-l)/2,p+s/1,f+h/2,p+c/2+s/1,f+(h-l)/2,p+s/1,f+(h+l)/2):r.call(i,p-c/2+s/1,f+(h+l)/2,p+s/1,f+h/2,p+c/2+s/1,f+(h+l)/2,p+s/1,f+(h-l)/2)):0===h&&Math.abs(d)>=u&&(d>0?r.call(i,p+(d-c)/2,f+(h-l)/2,p+d/2,f,p+(d-c)/2,f+(h+l)/2,p+(d+c)/2,f):r.call(i,p+(d+c)/2,f+(h-l)/2,p+d/2,f,p+(d+c)/2,f+(h+l)/2,p+(d-c)/2,f)),p=t.x,f=t.y}),this.context.lineJoin="round"}},{key:"lineTo",value:function(t,e,n,o,r,a,s){var c=this,l=2,u=i(t,e,n,o,r);if(a&&s){var p=Array.from(u);p.unshift({x:t,y:e}),this.saveLine[a+"&"+s]=p}this.drawAng(t,e,u,r),this.context.moveTo(t,e),u.forEach(function(n,o){c.context.lineTo(n.x+l,n.y),t=n.x,e=n.y,c.context.stroke()}),this.context.strokeStyle="#333"}},{key:"beginPath",value:function(){this.context.beginPath()}},{key:"clear",value:function(){this.context.clearRect(0,0,this.content.width,this.content.height)}},{key:"changeColor",value:function(t,e){var n=this.saveLine,i=void 0;for(var r in n)n.hasOwnProperty(r)&&(i=o.call(this,t,e,n[r]))}}]),t}();e["default"]=s}});